{"version":3,"file":"Checkbox.js","names":["_accessibility","require","_reactBindings","customPropTypes","_interopRequireWildcard","_state","PropTypes","React","_utils","_Box","_Text","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","checkboxClassName","exports","checkboxSlotClassNames","label","indicator","Checkbox","forwardRef","props","ref","context","useFluentContext","_useTelemetry","useTelemetry","displayName","telemetry","setStart","setEnd","checked","className","defaultChecked","design","disabled","labelPosition","styles","toggle","variables","_useStateManager","useStateManager","createCheckboxManager","mapPropsToInitialState","mapPropsToState","state","actions","getA11Props","useAccessibility","accessibility","debugName","mapPropsToBehavior","actionHandlers","performClick","e","preventDefault","handleClick","rtl","_useStyles","useStyles","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","ElementType","getElementType","unhandledProps","useUnhandledProps","handledProps","handleChange","_invoke2","assign","labelElement","Text","create","defaultProps","element","createElement","root","onClick","onChange","Box","checkbox","checkboxBehavior","propTypes","commonPropTypes","createCommon","content","oneOf","bool","shorthandAllowingChildren","itemShorthand","func","keys","createShorthandFactory","Component","mappedProp"],"sources":["components/Checkbox/Checkbox.tsx"],"sourcesContent":["import { Accessibility, checkboxBehavior, CheckboxBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n  useStateManager,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport { createCheckboxManager } from '@fluentui/state';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { createShorthandFactory, ChildrenComponentProps, commonPropTypes, UIComponentProps } from '../../utils';\nimport { ComponentEventHandler, ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport { Box, BoxProps } from '../Box/Box';\nimport { Text, TextProps } from '../Text/Text';\nimport { SupportedIntrinsicInputProps } from '../../utils/htmlPropsUtils';\n\nexport interface CheckboxSlotClassNames {\n  label: string;\n  indicator: string;\n}\n\nexport interface CheckboxProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<CheckboxBehaviorProps>;\n\n  /** A checkbox can be checked by default. */\n  defaultChecked?: SupportedIntrinsicInputProps['defaultChecked'];\n\n  /** A checkbox's checked state can be controlled. */\n  checked?: SupportedIntrinsicInputProps['checked'] | 'mixed';\n\n  /** A checkbox can appear disabled and be unable to change states. */\n  disabled?: SupportedIntrinsicInputProps['disabled'];\n\n  /** A checkbox's indicator icon can be customized. */\n  indicator?: ShorthandValue<BoxProps>;\n\n  /** A checkbox can render a label next to its indicator. */\n  label?: ShorthandValue<TextProps>;\n\n  /** A checkbox's label can be rendered in different positions. */\n  labelPosition?: 'start' | 'end';\n\n  /**\n   * Called after a checkbox's checked state is changed.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onChange?: ComponentEventHandler<Omit<CheckboxProps, 'checked'> & { checked: boolean }>;\n\n  /**\n   * Called after a checkbox is clicked.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<Omit<CheckboxProps, 'checked'> & { checked: boolean }>;\n\n  /** A checkbox can be formatted to show an \"on or off\" choice. */\n  toggle?: boolean;\n}\n\nexport type CheckboxStylesProps = Pick<CheckboxProps, 'checked' | 'disabled' | 'labelPosition' | 'toggle'>;\nexport const checkboxClassName = 'ui-checkbox';\nexport const checkboxSlotClassNames: CheckboxSlotClassNames = {\n  label: `${checkboxClassName}__label`,\n  indicator: `${checkboxClassName}__indicator`,\n};\n\n/**\n * A Checkbox allows a user to make a choice between two mutually exclusive options.\n *\n * @accessibility\n * Implements [ARIA Checkbox](https://www.w3.org/TR/wai-aria-practices-1.1/#checkbox) design pattern.\n */\nexport const Checkbox = React.forwardRef<HTMLDivElement, CheckboxProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Checkbox.displayName, context.telemetry);\n  setStart();\n\n  const {\n    checked,\n    className,\n    defaultChecked,\n    design,\n    disabled,\n    label,\n    labelPosition,\n    indicator,\n    styles,\n    toggle,\n    variables,\n  } = props;\n\n  const { state, actions } = useStateManager(createCheckboxManager, {\n    mapPropsToInitialState: () => ({ checked: defaultChecked }),\n    mapPropsToState: () => ({ checked: checked === 'mixed' ? false : checked }),\n  });\n\n  const getA11Props = useAccessibility(props.accessibility, {\n    debugName: Checkbox.displayName,\n    mapPropsToBehavior: () => ({\n      checked: state.checked,\n      disabled,\n    }),\n    actionHandlers: {\n      performClick: (e: React.KeyboardEvent) => {\n        e.preventDefault();\n        handleClick(e);\n      },\n    },\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<CheckboxStylesProps>(Checkbox.displayName, {\n    className: checkboxClassName,\n    mapPropsToStyles: () => ({\n      checked: checked === 'mixed' ? 'mixed' : state.checked,\n      disabled,\n      labelPosition,\n      toggle,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Checkbox.handledProps, props);\n\n  const handleChange = (e: React.ChangeEvent) => {\n    if (!disabled) {\n      // Checkbox component doesn't present any `input` component in markup, however all of our\n      // components should handle events transparently.\n      const checked = !state.checked;\n\n      actions.toggle(checked);\n      _.invoke(props, 'onChange', e, { ...props, checked });\n    }\n  };\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    if (!disabled) {\n      const checked = !state.checked;\n      actions.toggle(checked);\n\n      _.invoke(props, 'onClick', e, { ...props, checked });\n      _.invoke(props, 'onChange', e, { ...props, checked });\n    }\n  };\n\n  const labelElement = Text.create(label, {\n    defaultProps: () =>\n      getA11Props('label', {\n        styles: resolvedStyles.label,\n        className: checkboxSlotClassNames.label,\n      }),\n  });\n\n  const element = (\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        onClick: handleClick,\n        onChange: handleChange,\n        ref,\n        ...unhandledProps,\n      })}\n    >\n      {labelPosition === 'start' && labelElement}\n      {Box.create(indicator, {\n        defaultProps: () =>\n          getA11Props('indicator', {\n            className: checkboxSlotClassNames.indicator,\n            styles: toggle ? resolvedStyles.toggle : resolvedStyles.checkbox,\n          }),\n      })}\n      {labelPosition === 'end' && labelElement}\n    </ElementType>\n  );\n  setEnd();\n\n  return element;\n}) as unknown as ForwardRefWithAs<'div', HTMLDivElement, CheckboxProps> & FluentComponentStaticProps<CheckboxProps>;\n\nCheckbox.displayName = 'Checkbox';\n\nCheckbox.defaultProps = {\n  accessibility: checkboxBehavior,\n  indicator: {},\n  labelPosition: 'end',\n};\nCheckbox.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  checked: PropTypes.oneOf<true | false | 'mixed'>([true, false, 'mixed']),\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  indicator: customPropTypes.shorthandAllowingChildren,\n  label: customPropTypes.itemShorthand,\n  labelPosition: PropTypes.oneOf<'start' | 'end'>(['start', 'end']),\n  onChange: PropTypes.func,\n  onClick: PropTypes.func,\n  toggle: PropTypes.bool,\n};\nCheckbox.handledProps = Object.keys(Checkbox.propTypes) as any;\n\nCheckbox.create = createShorthandFactory({\n  Component: Checkbox,\n  mappedProp: 'label',\n});\n"],"mappings":"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"}