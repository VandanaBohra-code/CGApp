{"version":3,"file":"usePortalBox.js","names":["_reactBindings","require","React","_interopRequireWildcard","_isBrowser","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","usePortalBox","options","className","rtl","target","element","useMemo","newElement","isBrowser","createElement","body","appendChild","useIsomorphicLayoutEffect","classes","split","filter","Boolean","_element$classList","classList","add","apply","setAttribute","removeAttribute","_element$classList2","remove","useEffect","removeChild","exports"],"sources":["components/Portal/usePortalBox.ts"],"sourcesContent":["import { useIsomorphicLayoutEffect } from '@fluentui/react-bindings';\nimport * as React from 'react';\n\nimport { isBrowser } from '../../utils/isBrowser';\n\ntype UsePortalBoxOptions = {\n  className: string;\n  rtl: boolean;\n  target: Document | undefined;\n};\n\nexport const usePortalBox = (options: UsePortalBoxOptions): HTMLDivElement | null => {\n  const { className, rtl, target } = options;\n\n  const element: HTMLDivElement | null = React.useMemo(() => {\n    const newElement = isBrowser() && target ? target.createElement('div') : null;\n\n    // Element should be attached to DOM during render to make elements that will be rendered\n    // inside accessible in effects of child components\n    if (newElement) {\n      target.body.appendChild(newElement);\n    }\n\n    return newElement;\n  }, [target]);\n\n  useIsomorphicLayoutEffect(() => {\n    const classes = className.split(' ').filter(Boolean);\n\n    if (element) {\n      element.classList.add(...classes);\n\n      if (rtl) {\n        element.setAttribute('dir', 'rtl');\n      } else {\n        element.removeAttribute('dir');\n      }\n    }\n\n    return () => {\n      if (element) {\n        element.classList.remove(...classes);\n        element.removeAttribute('dir');\n      }\n    };\n  }, [className, element, rtl]);\n\n  // This effect should always last as it removes element from HTML tree\n  React.useEffect(() => {\n    return () => {\n      if (element) {\n        target.body.removeChild(element);\n      }\n    };\n  }, [element, target]);\n\n  return element;\n};\n"],"mappings":"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"}