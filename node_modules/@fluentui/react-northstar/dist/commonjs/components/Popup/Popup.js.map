{"version":3,"file":"Popup.js","names":["_accessibility","require","_reactBindings","_reactComponentEventListener","_reactComponentNestingRegistry","_reactComponentRef","customPropTypes","_interopRequireWildcard","PropTypes","React","_domUtilities","_utils","_positioner","_PopupContent","_factories","_isRightClick","_PortalInner","_Animation","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","getRealEventProps","element","type","Ref","props","children","keys","reduce","acc","propName","_Object$assign","startsWith","assign","popupClassName","exports","Popup","context","useFluentContext","_useTelemetry","useTelemetry","displayName","telemetry","setStart","setEnd","accessibility","align","autoFocus","inline","contentRef","flipBoundary","on","mountNode","mouseLeaveDelay","offset","overflowBoundary","pointing","popperRef","position","positionFixed","renderContent","tabbableTrigger","target","trapFocus","trigger","unstable_disableTether","unstable_pinned","autoSize","closeOnScroll","_useAutoControlled","useAutoControlled","initialValue","defaultValue","defaultOpen","value","open","setOpen","_React$useState","useState","isOpenedByRightClick","setIsOpenedByRightClick","closeTimeoutId","useRef","mouseDownEventRef","popupContentRef","pointerTargetRef","triggerRef","triggerFocusableRef","rightClickReferenceObject","useOnIFrameFocus","e","iframeInsidePopup","elementContains","current","__","_invoke2","getA11yProps","useAccessibility","debugName","actionHandlers","closeAndFocusTrigger","preventDefault","close","toggle","trySetOpen","setPopupOpen","click","preventScroll","stopPropagation","mapPropsToBehavior","rtl","handleDocumentClick","getRefs","currentMouseDownEvent","isOutsidePopupElement","isOutsidePopupElementAndOutsideTriggerElement","handleMouseDown","handleDocumentKeyDown","keyCode","getCode","isMatchingKey","keyboardKey","Enter","SpacebarKey","lastContentRef","pop","isLastOpenedPopup","activeDocument","bodyHasFocus","activeElement","body","Escape","refs","isOutsidePopup","isInsideTrigger","doesNodeContainClick","isInsideNested","_some2","childRef","getTriggerProps","triggerElement","triggerElementEventProps","triggerProps","normalizedOn","_isArray2","_includes2","onFocus","isFromKeyboard","_len","arguments","length","args","Array","_key","apply","concat","onBlur","shouldBlurClose","_len2","_key2","onClick","_len3","_key3","_len4","_key4","onContextMenu","_len5","_key5","onMouseEnter","setWhatInputSource","_len6","_key6","onMouseLeave","_len7","_key7","_len8","_key8","_len9","_key9","getContentProps","predefinedProps","contentHandlerProps","contentProps","relatedTarget","isInsideContent","isInsideTarget","currentTarget","renderPopperChildren","classes","_ref","placement","scheduleUpdate","content","popupContent","Content","create","defaultProps","pointerRef","className","overrideProps","createElement","Unstable_NestingAuto","nestingRef","Fragment","innerRef","domElement","handleRef","EventListener","listener","capture","dismissOnScroll","newValue","event","isRightClick","updateTriggerFocusableRef","updateContextPosition","nativeEvent","newOpen","clearTimeout","schedulePopupClose","setTimeout","onClose","_context$target","createReferenceFromClick","process","env","NODE_ENV","useEffect","console","warn","triggerNode","useTriggerElement","setVirtualParent","contentElement","Animation","mountOnEnter","unmountOnExit","visible","name","_ref2","Popper","targetRef","PortalInner","cloneElement","propTypes","commonPropTypes","createCommon","as","oneOf","ALIGNMENTS","bool","domNode","number","oneOfType","func","arrayOf","ref","object","onOpenChange","POSITIONS","any","every","disallow","AUTOSIZES","shorthandAllowingChildren","popupBehavior","handledProps","PopupContent","createShorthandFactory","Component","mappedProp","shorthandConfig"],"sources":["components/Popup/Popup.tsx"],"sourcesContent":["import {\n  Accessibility,\n  popupBehavior,\n  PopupBehaviorProps,\n  getCode,\n  keyboardKey,\n  SpacebarKey,\n} from '@fluentui/accessibility';\nimport {\n  AutoFocusZoneProps,\n  FocusTrapZoneProps,\n  useAccessibility,\n  useAutoControlled,\n  useTelemetry,\n  useFluentContext,\n  useTriggerElement,\n  useOnIFrameFocus,\n} from '@fluentui/react-bindings';\nimport { EventListener } from '@fluentui/react-component-event-listener';\nimport { NodeRef, Unstable_NestingAuto } from '@fluentui/react-component-nesting-registry';\nimport { handleRef, Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as PopperJs from '@popperjs/core';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { elementContains, setVirtualParent } from '@fluentui/dom-utilities';\n\nimport {\n  ChildrenComponentProps,\n  ContentComponentProps,\n  commonPropTypes,\n  isFromKeyboard,\n  doesNodeContainClick,\n  setWhatInputSource,\n} from '../../utils';\nimport { ComponentEventHandler, FluentComponentStaticProps, ShorthandValue } from '../../types';\nimport {\n  ALIGNMENTS,\n  POSITIONS,\n  createReferenceFromClick,\n  Popper,\n  PositioningProps,\n  PopperChildrenProps,\n  AutoSize,\n  AUTOSIZES,\n} from '../../utils/positioner';\nimport { PopupContent, PopupContentProps } from './PopupContent';\n\nimport { createShorthandFactory } from '../../utils/factories';\nimport { isRightClick } from '../../utils/isRightClick';\nimport { PortalInner } from '../Portal/PortalInner';\nimport { Animation } from '../Animation/Animation';\n\nexport type PopupEvents = 'click' | 'hover' | 'focus' | 'context';\nexport type RestrictedClickEvents = 'click' | 'focus';\nexport type RestrictedHoverEvents = 'hover' | 'focus' | 'context';\nexport type PopupEventsArray = RestrictedClickEvents[] | RestrictedHoverEvents[];\n\nfunction getRealEventProps(element: React.ReactElement) {\n  if (element.type === Ref) {\n    return getRealEventProps(element.props.children as React.ReactElement);\n  }\n\n  return Object.keys(element.props).reduce((acc, propName) => {\n    return propName.startsWith('on') ? { ...acc, [propName]: element.props[propName] } : acc;\n  }, {});\n}\n\nexport interface PopupProps\n  extends ChildrenComponentProps,\n    ContentComponentProps<ShorthandValue<PopupContentProps>>,\n    PositioningProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @available dialogBehavior\n   */\n  accessibility?: Accessibility<PopupBehaviorProps>;\n\n  /** Initial value for 'open'. */\n  defaultOpen?: boolean;\n\n  /** Whether the Popup should be rendered inline with the trigger or in the body. */\n  inline?: boolean;\n\n  /** Existing element the popup should be bound to. */\n  mountNode?: HTMLElement;\n\n  /** Delay in ms for the mouse leave event, before the popup will be closed. */\n  mouseLeaveDelay?: number;\n\n  /** Events triggering the popup. */\n  on?: PopupEvents | PopupEventsArray;\n\n  /** Defines whether popup is displayed. */\n  open?: boolean;\n\n  /**\n   * Event for request to change 'open' value.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onOpenChange?: ComponentEventHandler<PopupProps>;\n\n  /** A popup can show a pointer to trigger. */\n  pointing?: boolean;\n\n  /**\n   * Function to render popup content.\n   * @deprecated Please use `popperRef` to get an imperative handle to Popper's APIs.\n   * @param updatePosition - function to request popup position update.\n   */\n  renderContent?: (updatePosition: Function) => ShorthandValue<PopupContentProps>;\n\n  /**\n   * DOM element that should be used as popup's target - instead of 'trigger' element that is used by default.\n   */\n  target?: HTMLElement;\n\n  /** Element to be rendered in-place where the popup is defined. */\n  trigger?: JSX.Element;\n\n  /** Whether the trigger should be tabbable */\n  tabbableTrigger?: boolean;\n\n  /** Ref for Popup content DOM node. */\n  contentRef?: React.Ref<HTMLElement>;\n\n  /** Controls whether or not focus trap should be applied, using boolean or FocusTrapZoneProps type value. */\n  trapFocus?: boolean | FocusTrapZoneProps;\n\n  /** Controls whether or not auto focus should be applied, using boolean or AutoFocusZoneProps type value. */\n  autoFocus?: boolean | AutoFocusZoneProps;\n\n  /** Close the popup when scroll happens outside of Popup */\n  closeOnScroll?: boolean;\n}\n\nexport const popupClassName = 'ui-popup';\n\n/**\n * A Popup displays a non-modal, often rich content, on top of its target element.\n */\nexport const Popup: React.FC<PopupProps> &\n  FluentComponentStaticProps<PopupProps> & {\n    Content: typeof PopupContent;\n  } = props => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Popup.displayName, context.telemetry);\n  setStart();\n\n  const {\n    accessibility,\n    align,\n    autoFocus,\n    inline,\n    contentRef,\n    flipBoundary,\n    on,\n    mountNode,\n    mouseLeaveDelay,\n    offset,\n    overflowBoundary,\n    pointing,\n    popperRef,\n    position,\n    positionFixed,\n    renderContent,\n    tabbableTrigger,\n    target,\n    trapFocus,\n    trigger,\n    unstable_disableTether,\n    unstable_pinned,\n    autoSize,\n    closeOnScroll,\n  } = props;\n\n  const [open, setOpen] = useAutoControlled({\n    initialValue: false,\n    defaultValue: props.defaultOpen,\n    value: props.open,\n  });\n  const [isOpenedByRightClick, setIsOpenedByRightClick] = React.useState(false);\n\n  const closeTimeoutId = React.useRef<number | undefined>();\n  const mouseDownEventRef = React.useRef<MouseEvent | null>();\n  const popupContentRef = React.useRef<HTMLElement>();\n  const pointerTargetRef = React.useRef<HTMLElement>();\n  const triggerRef = React.useRef<HTMLElement>();\n  // focusable element which has triggered Popup, can be either triggerDomElement or the element inside it\n  const triggerFocusableRef = React.useRef<HTMLElement>();\n  const rightClickReferenceObject = React.useRef<PopperJs.VirtualElement | null>();\n\n  useOnIFrameFocus(open, context.target, (e: Event) => {\n    const iframeInsidePopup = elementContains(popupContentRef.current, e.target as HTMLElement);\n\n    if (iframeInsidePopup) {\n      return;\n    }\n\n    setOpen(__ => {\n      _.invoke(props, 'onOpenChange', e, { ...props, ...{ open: false } });\n      return false;\n    });\n  });\n\n  const getA11yProps = useAccessibility(accessibility, {\n    debugName: Popup.displayName,\n    actionHandlers: {\n      closeAndFocusTrigger: e => {\n        e.preventDefault();\n        close(e, () => _.invoke(triggerFocusableRef.current, 'focus'));\n      },\n      close: e => {\n        close(e);\n      },\n      toggle: e => {\n        e.preventDefault();\n        trySetOpen(!open, e);\n      },\n      open: e => {\n        e.preventDefault();\n        setPopupOpen(true, e);\n      },\n      click: e => {\n        _.invoke(triggerRef.current, 'click');\n      },\n      preventScroll: e => {\n        e.preventDefault();\n      },\n      stopPropagation: e => {\n        e.stopPropagation();\n      },\n    },\n    mapPropsToBehavior: () => ({\n      isOpenedByRightClick,\n      on,\n      trapFocus,\n      tabbableTrigger,\n      trigger: trigger as any,\n      inline,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleDocumentClick = (getRefs: Function) => (e: MouseEvent) => {\n    const currentMouseDownEvent = mouseDownEventRef.current;\n    mouseDownEventRef.current = null;\n\n    if (currentMouseDownEvent && !isOutsidePopupElement(getRefs(), currentMouseDownEvent)) {\n      return;\n    }\n\n    if (isOpenedByRightClick && isOutsidePopupElement(getRefs(), e)) {\n      trySetOpen(false, e);\n      rightClickReferenceObject.current = null;\n      return;\n    }\n\n    if (isOutsidePopupElementAndOutsideTriggerElement(getRefs(), e)) {\n      trySetOpen(false, e);\n    }\n  };\n\n  const handleMouseDown = (e: MouseEvent) => {\n    mouseDownEventRef.current = e;\n  };\n\n  const handleDocumentKeyDown = (getRefs: Function) => (e: KeyboardEvent) => {\n    const keyCode = getCode(e);\n    const isMatchingKey = keyCode === keyboardKey.Enter || keyCode === SpacebarKey;\n\n    if (isMatchingKey && isOutsidePopupElementAndOutsideTriggerElement(getRefs(), e)) {\n      trySetOpen(false, e);\n    }\n\n    // if focus was lost from Popup and moved to body, for e.g. when click on popup content\n    // and ESC is pressed, the last opened Popup should get closed and the trigger should get focus\n    const lastContentRef = getRefs().pop();\n    const isLastOpenedPopup: boolean = lastContentRef && lastContentRef.current === popupContentRef.current;\n\n    const activeDocument: HTMLDocument = context.target;\n    const bodyHasFocus: boolean = activeDocument.activeElement === activeDocument.body;\n\n    if (keyCode === keyboardKey.Escape && bodyHasFocus && isLastOpenedPopup) {\n      close(e, () => _.invoke(triggerFocusableRef.current, 'focus'));\n    }\n  };\n\n  const isOutsidePopupElementAndOutsideTriggerElement = (refs: NodeRef[], e: KeyboardEvent | MouseEvent) => {\n    const isOutsidePopup = isOutsidePopupElement(refs, e);\n    const isInsideTrigger =\n      triggerRef.current && doesNodeContainClick(triggerRef.current, e as MouseEvent, context.target);\n\n    return isOutsidePopup && !isInsideTrigger;\n  };\n\n  const isOutsidePopupElement = (refs: NodeRef[], e) => {\n    const isInsideNested = _.some(refs, (childRef: NodeRef) => {\n      return doesNodeContainClick(childRef.current as HTMLElement, e, context.target);\n    });\n    const isOutsidePopup = popupContentRef.current && !isInsideNested;\n\n    return isOutsidePopup;\n  };\n\n  const getTriggerProps = triggerElement => {\n    const triggerElementEventProps = triggerElement ? getRealEventProps(triggerElement) : {};\n    const triggerProps: any = {};\n    const normalizedOn = _.isArray(on) ? on : [on];\n\n    /**\n     * The focus is adding the focus, blur and click event (always opening on click)\n     * If focus and context are provided, there is no need to add onClick\n     */\n    if (_.includes(normalizedOn, 'focus')) {\n      triggerProps.onFocus = (e, ...args) => {\n        if (isFromKeyboard()) {\n          trySetOpen(true, e);\n        }\n        _.invoke(triggerElementEventProps, 'onFocus', e, ...args);\n      };\n      triggerProps.onBlur = (e, ...args) => {\n        if (shouldBlurClose(e)) {\n          trySetOpen(false, e);\n        }\n        _.invoke(triggerElementEventProps, 'onBlur', e, ...args);\n      };\n      if (!_.includes(normalizedOn, 'context')) {\n        triggerProps.onClick = (e, ...args) => {\n          setPopupOpen(true, e);\n          _.invoke(triggerElementEventProps, 'onClick', e, ...args);\n        };\n      }\n    }\n\n    /**\n     * The click is toggling the open state of the popup\n     */\n    if (_.includes(normalizedOn, 'click')) {\n      triggerProps.onClick = (e, ...args) => {\n        trySetOpen(!open, e);\n        _.invoke(triggerElementEventProps, 'onClick', e, ...args);\n      };\n    }\n\n    /**\n     * The context is opening the popup\n     */\n    if (_.includes(normalizedOn, 'context')) {\n      triggerProps.onContextMenu = (e, ...args) => {\n        setPopupOpen(!open, e);\n        _.invoke(triggerElementEventProps, 'onContextMenu', e, ...args);\n        e.preventDefault();\n      };\n    }\n\n    /**\n     * The hover is adding the mouseEnter, mouseLeave, blur and click event (always opening on click)\n     * If hover and context are provided, there is no need to add onClick\n     */\n    if (_.includes(normalizedOn, 'hover')) {\n      triggerProps.onMouseEnter = (e, ...args) => {\n        setPopupOpen(true, e);\n        setWhatInputSource(context.target, 'mouse');\n        _.invoke(triggerElementEventProps, 'onMouseEnter', e, ...args);\n      };\n      triggerProps.onMouseLeave = (e, ...args) => {\n        setPopupOpen(false, e);\n        _.invoke(triggerElementEventProps, 'onMouseLeave', e, ...args);\n      };\n      if (!_.includes(normalizedOn, 'context')) {\n        triggerProps.onClick = (e, ...args) => {\n          setPopupOpen(true, e);\n          _.invoke(triggerElementEventProps, 'onClick', e, ...args);\n        };\n      }\n      triggerProps.onBlur = (e, ...args) => {\n        if (shouldBlurClose(e)) {\n          trySetOpen(false, e);\n        }\n        _.invoke(triggerElementEventProps, 'onBlur', e, ...args);\n      };\n    }\n\n    return { ...triggerElementEventProps, ...triggerProps };\n  };\n\n  const getContentProps = (predefinedProps?) => {\n    const contentHandlerProps: any = {};\n    const normalizedOn = _.isArray(on) ? on : [on];\n\n    /**\n     * The focus is adding the focus and blur events on the content\n     */\n    if (_.includes(normalizedOn, 'focus')) {\n      contentHandlerProps.onFocus = (e, contentProps) => {\n        trySetOpen(true, e);\n        predefinedProps && _.invoke(predefinedProps, 'onFocus', e, contentProps);\n      };\n      contentHandlerProps.onBlur = (e, contentProps) => {\n        if (shouldBlurClose(e)) {\n          trySetOpen(false, e);\n        }\n        predefinedProps && _.invoke(predefinedProps, 'onBlur', e, contentProps);\n      };\n    }\n\n    /**\n     * The hover is adding the mouseEnter, mouseLeave\n     */\n    if (_.includes(normalizedOn, 'hover')) {\n      contentHandlerProps.onMouseEnter = (e, contentProps) => {\n        setPopupOpen(true, e);\n        predefinedProps && _.invoke(predefinedProps, 'onMouseEnter', e, contentProps);\n      };\n      contentHandlerProps.onMouseLeave = (e, contentProps) => {\n        setPopupOpen(false, e);\n        predefinedProps && _.invoke(predefinedProps, 'onMouseLeave', e, contentProps);\n      };\n    }\n\n    return contentHandlerProps;\n  };\n\n  const shouldBlurClose = (e: React.FocusEvent) => {\n    const relatedTarget = e.relatedTarget as Node;\n    const isInsideContent = elementContains(popupContentRef.current, relatedTarget as HTMLElement);\n    const isInsideTarget = elementContains(e.currentTarget as HTMLElement, relatedTarget as HTMLElement);\n    // When clicking in the popup content that has no tabIndex focus goes to body\n    // We shouldn't close the popup in this case\n    return relatedTarget && !(isInsideContent || isInsideTarget);\n  };\n\n  const renderPopperChildren =\n    classes =>\n    ({ placement, scheduleUpdate }: PopperChildrenProps) => {\n      const content = renderContent ? renderContent(scheduleUpdate) : props.content;\n      const popupContent = Popup.Content.create(content || {}, {\n        defaultProps: () =>\n          getA11yProps('popup', {\n            ...getContentProps(),\n            placement,\n            pointing,\n            pointerRef: pointerTargetRef,\n            trapFocus,\n            autoFocus,\n            autoSize,\n            className: classes,\n          }),\n        overrideProps: getContentProps,\n      });\n\n      return (\n        <Unstable_NestingAuto>\n          {(getRefs, nestingRef) => (\n            <>\n              <Ref\n                innerRef={domElement => {\n                  popupContentRef.current = domElement;\n                  handleRef(contentRef, domElement);\n                  nestingRef.current = domElement;\n                }}\n              >\n                {popupContent}\n              </Ref>\n\n              {context.target && (\n                <>\n                  <EventListener listener={handleMouseDown} target={context.target} type=\"mousedown\" />\n                  <EventListener listener={handleDocumentClick(getRefs)} target={context.target} type=\"click\" capture />\n                  <EventListener\n                    listener={handleDocumentClick(getRefs)}\n                    target={context.target}\n                    type=\"contextmenu\"\n                    capture\n                  />\n                  <EventListener\n                    listener={handleDocumentKeyDown(getRefs)}\n                    target={context.target}\n                    type=\"keydown\"\n                    capture\n                  />\n\n                  {(isOpenedByRightClick || closeOnScroll) && (\n                    <>\n                      <EventListener listener={dismissOnScroll} target={context.target} type=\"wheel\" capture />\n                      <EventListener listener={dismissOnScroll} target={context.target} type=\"touchmove\" capture />\n                    </>\n                  )}\n                </>\n              )}\n            </>\n          )}\n        </Unstable_NestingAuto>\n      );\n    };\n\n  const dismissOnScroll = (e: TouchEvent | WheelEvent) => {\n    // we only need to dismiss if the scroll happens outside the popup\n    if (!elementContains(popupContentRef.current, e.target as HTMLElement)) {\n      trySetOpen(false, e);\n    }\n  };\n\n  const trySetOpen = (\n    newValue: boolean,\n    event: React.KeyboardEvent | React.MouseEvent | KeyboardEvent | MouseEvent | TouchEvent | WheelEvent,\n  ) => {\n    const isOpenedByRightClick = newValue && isRightClick(event as React.MouseEvent);\n\n    // when new state 'open' === 'true', save the last focused element\n    if (newValue) {\n      updateTriggerFocusableRef();\n      updateContextPosition(isOpenedByRightClick && (event as React.MouseEvent).nativeEvent);\n    }\n\n    setOpen(newValue);\n    setIsOpenedByRightClick(isOpenedByRightClick);\n\n    _.invoke(props, 'onOpenChange', event, { ...props, ...{ open: newValue } });\n  };\n\n  const setPopupOpen = (newOpen: boolean, e: React.KeyboardEvent) => {\n    clearTimeout(closeTimeoutId.current);\n    newOpen ? trySetOpen(true, e) : schedulePopupClose(e);\n  };\n\n  const schedulePopupClose = (e: React.KeyboardEvent) => {\n    closeTimeoutId.current = setTimeout(() => {\n      trySetOpen(false, e);\n    }, mouseLeaveDelay) as any;\n  };\n\n  const close = (e, onClose?: Function) => {\n    if (open) {\n      trySetOpen(false, e);\n      onClose && onClose();\n      e.stopPropagation();\n    }\n  };\n\n  /**\n   * Save DOM element which had focus before Popup opens.\n   * Can be either trigger DOM element itself or the element inside it.\n   */\n  const updateTriggerFocusableRef = () => {\n    const activeElement = context.target?.activeElement;\n    if (activeElement) {\n      triggerFocusableRef.current =\n        triggerRef.current && elementContains(triggerRef.current, activeElement as HTMLElement)\n          ? (activeElement as HTMLElement)\n          : triggerRef.current;\n    }\n  };\n\n  const updateContextPosition = (nativeEvent: MouseEvent) => {\n    rightClickReferenceObject.current = nativeEvent ? createReferenceFromClick(nativeEvent) : null;\n  };\n\n  if (process.env.NODE_ENV !== 'production') {\n    // This is fine to violate there conditional rule as environment variables will never change during component\n    // lifecycle\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (inline && trapFocus) {\n        // eslint-disable-next-line no-console\n        console.warn('Using \"trapFocus\" in inline popup leads to broken behavior for screen reader users.');\n      }\n      if (!inline && autoFocus) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Beware, \"autoFocus\" prop will just grab focus at the moment of mount and will not trap it. As user is able to TAB out from popup, better use \"inline\" prop to keep correct tab order.',\n        );\n      }\n    }, [autoFocus, inline, trapFocus]);\n  }\n\n  React.useEffect(() => {\n    if (open) {\n      // when new state 'open' === 'true', save the last focused element\n      updateTriggerFocusableRef();\n    }\n  });\n\n  const triggerNode = useTriggerElement(props);\n  const triggerProps = getTriggerProps(triggerNode);\n\n  React.useEffect(() => {\n    if (open) {\n      setVirtualParent(popupContentRef.current, triggerRef.current);\n    }\n\n    return () => {\n      if (open && popupContentRef.current) {\n        setVirtualParent(popupContentRef.current, null);\n      }\n    };\n  }, [open]);\n\n  const contentElement = (\n    <Animation mountOnEnter unmountOnExit visible={open} name={open ? 'popup-show' : 'popup-hide'}>\n      {({ classes }) => {\n        const content = (\n          <Popper\n            pointerTargetRef={pointerTargetRef}\n            align={align}\n            flipBoundary={flipBoundary}\n            popperRef={popperRef}\n            position={position}\n            positionFixed={positionFixed}\n            offset={offset}\n            overflowBoundary={overflowBoundary}\n            rtl={context.rtl}\n            unstable_disableTether={unstable_disableTether}\n            unstable_pinned={unstable_pinned}\n            autoSize={autoSize}\n            targetRef={rightClickReferenceObject.current || target || triggerRef}\n          >\n            {renderPopperChildren(classes)}\n          </Popper>\n        );\n        return inline ? content : <PortalInner mountNode={mountNode}>{content}</PortalInner>;\n      }}\n    </Animation>\n  );\n\n  const triggerElement = triggerNode && (\n    <Ref innerRef={triggerRef}>\n      {React.cloneElement(triggerNode as React.ReactElement, getA11yProps('trigger', triggerProps))}\n    </Ref>\n  );\n\n  const element = (\n    <>\n      {triggerElement}\n      {contentElement}\n    </>\n  );\n  setEnd();\n\n  return element;\n};\n\nPopup.displayName = 'Popup';\n\nPopup.propTypes = {\n  ...commonPropTypes.createCommon({\n    as: false,\n    content: false,\n  }),\n  align: PropTypes.oneOf(ALIGNMENTS),\n  defaultOpen: PropTypes.bool,\n  inline: PropTypes.bool,\n  mountNode: customPropTypes.domNode,\n  mouseLeaveDelay: PropTypes.number,\n  offset: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.arrayOf(PropTypes.number) as PropTypes.Requireable<[number, number]>,\n  ]),\n  popperRef: customPropTypes.ref,\n  flipBoundary: PropTypes.oneOfType([\n    PropTypes.object as PropTypes.Requireable<HTMLElement>,\n    PropTypes.arrayOf(PropTypes.object) as PropTypes.Requireable<HTMLElement[]>,\n    PropTypes.oneOf<'clippingParents' | 'window' | 'scrollParent'>(['clippingParents', 'window', 'scrollParent']),\n  ]),\n  overflowBoundary: PropTypes.oneOfType([\n    PropTypes.object as PropTypes.Requireable<HTMLElement>,\n    PropTypes.arrayOf(PropTypes.object) as PropTypes.Requireable<HTMLElement[]>,\n    PropTypes.oneOf<'clippingParents' | 'window' | 'scrollParent'>(['clippingParents', 'window', 'scrollParent']),\n  ]),\n  on: PropTypes.oneOfType([\n    PropTypes.oneOf(['hover', 'click', 'focus', 'context']),\n    PropTypes.arrayOf(PropTypes.oneOf(['click', 'focus', 'context'])),\n    PropTypes.arrayOf(PropTypes.oneOf(['hover', 'focus', 'context'])),\n  ]) as any,\n  open: PropTypes.bool,\n  onOpenChange: PropTypes.func,\n  pointing: PropTypes.bool,\n  position: PropTypes.oneOf(POSITIONS),\n  positionFixed: PropTypes.bool,\n  renderContent: PropTypes.func,\n  target: PropTypes.any,\n  trigger: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.any]),\n  tabbableTrigger: PropTypes.bool,\n  unstable_disableTether: PropTypes.oneOf([true, false, 'all']),\n  unstable_pinned: PropTypes.bool,\n  autoSize: PropTypes.oneOf<AutoSize>(AUTOSIZES),\n  content: customPropTypes.shorthandAllowingChildren,\n  contentRef: customPropTypes.ref,\n  trapFocus: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  autoFocus: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  closeOnScroll: PropTypes.bool,\n};\nPopup.defaultProps = {\n  accessibility: popupBehavior,\n  align: 'start',\n  position: 'above',\n  on: 'click',\n  mouseLeaveDelay: 500,\n  tabbableTrigger: true,\n};\nPopup.handledProps = Object.keys(Popup.propTypes) as any;\n\nPopup.Content = PopupContent;\n\nPopup.create = createShorthandFactory({ Component: Popup, mappedProp: 'content' });\nPopup.shorthandConfig = {\n  mappedProp: 'content',\n};\n"],"mappings":";;;;;;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AAQA,IAAAC,cAAA,GAAAD,OAAA;AAUA,IAAAE,4BAAA,GAAAF,OAAA;AACA,IAAAG,8BAAA,GAAAH,OAAA;AACA,IAAAI,kBAAA,GAAAJ,OAAA;AACA,IAAAK,eAAA,GAAAC,uBAAA,CAAAN,OAAA;AAGA,IAAAO,SAAA,GAAAD,uBAAA,CAAAN,OAAA;AACA,IAAAQ,KAAA,GAAAF,uBAAA,CAAAN,OAAA;AACA,IAAAS,aAAA,GAAAT,OAAA;AAEA,IAAAU,MAAA,GAAAV,OAAA;AASA,IAAAW,WAAA,GAAAX,OAAA;AAUA,IAAAY,aAAA,GAAAZ,OAAA;AAEA,IAAAa,UAAA,GAAAb,OAAA;AACA,IAAAc,aAAA,GAAAd,OAAA;AACA,IAAAe,YAAA,GAAAf,OAAA;AACA,IAAAgB,UAAA,GAAAhB,OAAA;AAAmD,SAAAiB,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAZ,wBAAAgB,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAOnD,SAASW,iBAAiBA,CAACC,OAA2B,EAAE;EACtD,IAAIA,OAAO,CAACC,IAAI,KAAKC,sBAAG,EAAE;IACxB,OAAOH,iBAAiB,CAACC,OAAO,CAACG,KAAK,CAACC,QAA8B,CAAC;EACxE;EAEA,OAAOd,MAAM,CAACe,IAAI,CAACL,OAAO,CAACG,KAAK,CAAC,CAACG,MAAM,CAAC,UAACC,GAAG,EAAEC,QAAQ,EAAK;IAAA,IAAAC,cAAA;IAC1D,OAAOD,QAAQ,CAACE,UAAU,CAAC,IAAI,CAAC,GAAApB,MAAA,CAAAqB,MAAA,KAAQJ,GAAG,GAAAE,cAAA,OAAAA,cAAA,CAAGD,QAAQ,IAAGR,OAAO,CAACG,KAAK,CAACK,QAAQ,CAAC,EAAAC,cAAA,KAAKF,GAAG;EAC1F,CAAC,EAAE,CAAC,CAAC,CAAC;AACR;AAuEO,IAAMK,cAAc,GAAG,UAAU;;AAExC;AACA;AACA;AAFAC,OAAA,CAAAD,cAAA,GAAAA,cAAA;AAGO,IAAME,KAGV,GAAG,SAHOA,KAGVA,CAAGX,KAAK,EAAI;EACb,IAAMY,OAAO,GAAG,IAAAC,+BAAgB,EAAC,CAAC;EAClC,IAAAC,aAAA,GAA6B,IAAAC,2BAAY,EAACJ,KAAK,CAACK,WAAW,EAAEJ,OAAO,CAACK,SAAS,CAAC;IAAvEC,QAAQ,GAAAJ,aAAA,CAARI,QAAQ;IAAEC,MAAM,GAAAL,aAAA,CAANK,MAAM;EACxBD,QAAQ,CAAC,CAAC;EAEV,IACEE,aAAa,GAwBXpB,KAAK,CAxBPoB,aAAa;IACbC,KAAK,GAuBHrB,KAAK,CAvBPqB,KAAK;IACLC,SAAS,GAsBPtB,KAAK,CAtBPsB,SAAS;IACTC,MAAM,GAqBJvB,KAAK,CArBPuB,MAAM;IACNC,UAAU,GAoBRxB,KAAK,CApBPwB,UAAU;IACVC,YAAY,GAmBVzB,KAAK,CAnBPyB,YAAY;IACZC,EAAE,GAkBA1B,KAAK,CAlBP0B,EAAE;IACFC,SAAS,GAiBP3B,KAAK,CAjBP2B,SAAS;IACTC,eAAe,GAgBb5B,KAAK,CAhBP4B,eAAe;IACfC,MAAM,GAeJ7B,KAAK,CAfP6B,MAAM;IACNC,gBAAgB,GAcd9B,KAAK,CAdP8B,gBAAgB;IAChBC,QAAQ,GAaN/B,KAAK,CAbP+B,QAAQ;IACRC,SAAS,GAYPhC,KAAK,CAZPgC,SAAS;IACTC,QAAQ,GAWNjC,KAAK,CAXPiC,QAAQ;IACRC,aAAa,GAUXlC,KAAK,CAVPkC,aAAa;IACbC,aAAa,GASXnC,KAAK,CATPmC,aAAa;IACbC,eAAe,GAQbpC,KAAK,CARPoC,eAAe;IACfC,MAAM,GAOJrC,KAAK,CAPPqC,MAAM;IACNC,SAAS,GAMPtC,KAAK,CANPsC,SAAS;IACTC,OAAO,GAKLvC,KAAK,CALPuC,OAAO;IACPC,sBAAsB,GAIpBxC,KAAK,CAJPwC,sBAAsB;IACtBC,eAAe,GAGbzC,KAAK,CAHPyC,eAAe;IACfC,QAAQ,GAEN1C,KAAK,CAFP0C,QAAQ;IACRC,aAAa,GACX3C,KAAK,CADP2C,aAAa;EAGf,IAAAC,kBAAA,GAAwB,IAAAC,gCAAiB,EAAC;MACxCC,YAAY,EAAE,KAAK;MACnBC,YAAY,EAAE/C,KAAK,CAACgD,WAAW;MAC/BC,KAAK,EAAEjD,KAAK,CAACkD;IACf,CAAC,CAAC;IAJKA,IAAI,GAAAN,kBAAA;IAAEO,OAAO,GAAAP,kBAAA;EAKpB,IAAAQ,eAAA,GAAwDvF,KAAK,CAACwF,QAAQ,CAAC,KAAK,CAAC;IAAtEC,oBAAoB,GAAAF,eAAA;IAAEG,uBAAuB,GAAAH,eAAA;EAEpD,IAAMI,cAAc,GAAG3F,KAAK,CAAC4F,MAAM,CAAqB,CAAC;EACzD,IAAMC,iBAAiB,GAAG7F,KAAK,CAAC4F,MAAM,CAAoB,CAAC;EAC3D,IAAME,eAAe,GAAG9F,KAAK,CAAC4F,MAAM,CAAc,CAAC;EACnD,IAAMG,gBAAgB,GAAG/F,KAAK,CAAC4F,MAAM,CAAc,CAAC;EACpD,IAAMI,UAAU,GAAGhG,KAAK,CAAC4F,MAAM,CAAc,CAAC;EAC9C;EACA,IAAMK,mBAAmB,GAAGjG,KAAK,CAAC4F,MAAM,CAAc,CAAC;EACvD,IAAMM,yBAAyB,GAAGlG,KAAK,CAAC4F,MAAM,CAAiC,CAAC;EAEhF,IAAAO,+BAAgB,EAACd,IAAI,EAAEtC,OAAO,CAACyB,MAAM,EAAE,UAAC4B,CAAQ,EAAK;IACnD,IAAMC,iBAAiB,GAAG,IAAAC,6BAAe,EAACR,eAAe,CAACS,OAAO,EAAEH,CAAC,CAAC5B,MAAqB,CAAC;IAE3F,IAAI6B,iBAAiB,EAAE;MACrB;IACF;IAEAf,OAAO,CAAC,UAAAkB,EAAE,EAAI;MACZ,IAAAC,QAAA,CAAAzF,OAAA,EAASmB,KAAK,EAAE,cAAc,EAAEiE,CAAC,EAAA9E,MAAA,CAAAqB,MAAA,KAAOR,KAAK,EAAK;QAAEkD,IAAI,EAAE;MAAM,CAAC,CAAE,CAAC;MACpE,OAAO,KAAK;IACd,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,IAAMqB,YAAY,GAAG,IAAAC,+BAAgB,EAACpD,aAAa,EAAE;IACnDqD,SAAS,EAAE9D,KAAK,CAACK,WAAW;IAC5B0D,cAAc,EAAE;MACdC,oBAAoB,EAAE,SAAAA,qBAAAV,CAAC,EAAI;QACzBA,CAAC,CAACW,cAAc,CAAC,CAAC;QAClBC,MAAK,CAACZ,CAAC,EAAE;UAAA,OAAM,IAAAK,QAAA,CAAAzF,OAAA,EAASiF,mBAAmB,CAACM,OAAO,EAAE,OAAO,CAAC;QAAA,EAAC;MAChE,CAAC;MACDS,KAAK,EAAE,SAAAA,MAAAZ,CAAC,EAAI;QACVY,MAAK,CAACZ,CAAC,CAAC;MACV,CAAC;MACDa,MAAM,EAAE,SAAAA,OAAAb,CAAC,EAAI;QACXA,CAAC,CAACW,cAAc,CAAC,CAAC;QAClBG,UAAU,CAAC,CAAC7B,IAAI,EAAEe,CAAC,CAAC;MACtB,CAAC;MACDf,IAAI,EAAE,SAAAA,KAAAe,CAAC,EAAI;QACTA,CAAC,CAACW,cAAc,CAAC,CAAC;QAClBI,YAAY,CAAC,IAAI,EAAEf,CAAC,CAAC;MACvB,CAAC;MACDgB,KAAK,EAAE,SAAAA,MAAAhB,CAAC,EAAI;QACV,IAAAK,QAAA,CAAAzF,OAAA,EAASgF,UAAU,CAACO,OAAO,EAAE,OAAO,CAAC;MACvC,CAAC;MACDc,aAAa,EAAE,SAAAA,cAAAjB,CAAC,EAAI;QAClBA,CAAC,CAACW,cAAc,CAAC,CAAC;MACpB,CAAC;MACDO,eAAe,EAAE,SAAAA,gBAAAlB,CAAC,EAAI;QACpBA,CAAC,CAACkB,eAAe,CAAC,CAAC;MACrB;IACF,CAAC;IACDC,kBAAkB,EAAE,SAAAA,mBAAA;MAAA,OAAO;QACzB9B,oBAAoB,EAApBA,oBAAoB;QACpB5B,EAAE,EAAFA,EAAE;QACFY,SAAS,EAATA,SAAS;QACTF,eAAe,EAAfA,eAAe;QACfG,OAAO,EAAEA,OAAc;QACvBhB,MAAM,EAANA;MACF,CAAC;IAAA,CAAC;IACF8D,GAAG,EAAEzE,OAAO,CAACyE;EACf,CAAC,CAAC;EAEF,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,OAAiB;IAAA,OAAK,UAACtB,CAAa,EAAK;MACpE,IAAMuB,qBAAqB,GAAG9B,iBAAiB,CAACU,OAAO;MACvDV,iBAAiB,CAACU,OAAO,GAAG,IAAI;MAEhC,IAAIoB,qBAAqB,IAAI,CAACC,qBAAqB,CAACF,OAAO,CAAC,CAAC,EAAEC,qBAAqB,CAAC,EAAE;QACrF;MACF;MAEA,IAAIlC,oBAAoB,IAAImC,qBAAqB,CAACF,OAAO,CAAC,CAAC,EAAEtB,CAAC,CAAC,EAAE;QAC/Dc,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;QACpBF,yBAAyB,CAACK,OAAO,GAAG,IAAI;QACxC;MACF;MAEA,IAAIsB,6CAA6C,CAACH,OAAO,CAAC,CAAC,EAAEtB,CAAC,CAAC,EAAE;QAC/Dc,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;MACtB;IACF,CAAC;EAAA;EAED,IAAM0B,eAAe,GAAG,SAAlBA,eAAeA,CAAI1B,CAAa,EAAK;IACzCP,iBAAiB,CAACU,OAAO,GAAGH,CAAC;EAC/B,CAAC;EAED,IAAM2B,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIL,OAAiB;IAAA,OAAK,UAACtB,CAAgB,EAAK;MACzE,IAAM4B,OAAO,GAAG,IAAAC,sBAAO,EAAC7B,CAAC,CAAC;MAC1B,IAAM8B,aAAa,GAAGF,OAAO,KAAKG,0BAAW,CAACC,KAAK,IAAIJ,OAAO,KAAKK,0BAAW;MAE9E,IAAIH,aAAa,IAAIL,6CAA6C,CAACH,OAAO,CAAC,CAAC,EAAEtB,CAAC,CAAC,EAAE;QAChFc,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;MACtB;;MAEA;MACA;MACA,IAAMkC,cAAc,GAAGZ,OAAO,CAAC,CAAC,CAACa,GAAG,CAAC,CAAC;MACtC,IAAMC,iBAA0B,GAAGF,cAAc,IAAIA,cAAc,CAAC/B,OAAO,KAAKT,eAAe,CAACS,OAAO;MAEvG,IAAMkC,cAA4B,GAAG1F,OAAO,CAACyB,MAAM;MACnD,IAAMkE,YAAqB,GAAGD,cAAc,CAACE,aAAa,KAAKF,cAAc,CAACG,IAAI;MAElF,IAAIZ,OAAO,KAAKG,0BAAW,CAACU,MAAM,IAAIH,YAAY,IAAIF,iBAAiB,EAAE;QACvExB,MAAK,CAACZ,CAAC,EAAE;UAAA,OAAM,IAAAK,QAAA,CAAAzF,OAAA,EAASiF,mBAAmB,CAACM,OAAO,EAAE,OAAO,CAAC;QAAA,EAAC;MAChE;IACF,CAAC;EAAA;EAED,IAAMsB,6CAA6C,GAAG,SAAhDA,6CAA6CA,CAAIiB,IAAe,EAAE1C,CAA6B,EAAK;IACxG,IAAM2C,cAAc,GAAGnB,qBAAqB,CAACkB,IAAI,EAAE1C,CAAC,CAAC;IACrD,IAAM4C,eAAe,GACnBhD,UAAU,CAACO,OAAO,IAAI,IAAA0C,2BAAoB,EAACjD,UAAU,CAACO,OAAO,EAAEH,CAAC,EAAgBrD,OAAO,CAACyB,MAAM,CAAC;IAEjG,OAAOuE,cAAc,IAAI,CAACC,eAAe;EAC3C,CAAC;EAED,IAAMpB,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIkB,IAAe,EAAE1C,CAAC,EAAK;IACpD,IAAM8C,cAAc,GAAG,IAAAC,MAAA,CAAAnI,OAAA,EAAO8H,IAAI,EAAE,UAACM,QAAiB,EAAK;MACzD,OAAO,IAAAH,2BAAoB,EAACG,QAAQ,CAAC7C,OAAO,EAAiBH,CAAC,EAAErD,OAAO,CAACyB,MAAM,CAAC;IACjF,CAAC,CAAC;IACF,IAAMuE,cAAc,GAAGjD,eAAe,CAACS,OAAO,IAAI,CAAC2C,cAAc;IAEjE,OAAOH,cAAc;EACvB,CAAC;EAED,IAAMM,eAAe,GAAG,SAAlBA,eAAeA,CAAGC,cAAc,EAAI;IACxC,IAAMC,wBAAwB,GAAGD,cAAc,GAAGvH,iBAAiB,CAACuH,cAAc,CAAC,GAAG,CAAC,CAAC;IACxF,IAAME,YAAiB,GAAG,CAAC,CAAC;IAC5B,IAAMC,YAAY,GAAG,IAAAC,SAAA,CAAA1I,OAAA,EAAU6C,EAAE,CAAC,GAAGA,EAAE,GAAG,CAACA,EAAE,CAAC;;IAE9C;AACJ;AACA;AACA;IACI,IAAI,IAAA8F,UAAA,CAAA3I,OAAA,EAAWyI,YAAY,EAAE,OAAO,CAAC,EAAE;MACrCD,YAAY,CAACI,OAAO,GAAG,UAACxD,CAAC,EAAc;QACrC,IAAI,IAAAyD,qBAAc,EAAC,CAAC,EAAE;UACpB3C,UAAU,CAAC,IAAI,EAAEd,CAAC,CAAC;QACrB;QAAC,SAAA0D,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAH2BC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,OAAAA,IAAA,WAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;UAAJF,IAAI,CAAAE,IAAA,QAAAJ,SAAA,CAAAI,IAAA;QAAA;QAIhC1D,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,SAAS,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;MAC3D,CAAC;MACDT,YAAY,CAACc,MAAM,GAAG,UAAClE,CAAC,EAAc;QACpC,IAAImE,eAAe,CAACnE,CAAC,CAAC,EAAE;UACtBc,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;QACtB;QAAC,SAAAoE,KAAA,GAAAT,SAAA,CAAAC,MAAA,EAH0BC,IAAI,OAAAC,KAAA,CAAAM,KAAA,OAAAA,KAAA,WAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;UAAJR,IAAI,CAAAQ,KAAA,QAAAV,SAAA,CAAAU,KAAA;QAAA;QAI/BhE,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,QAAQ,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;MAC1D,CAAC;MACD,IAAI,CAAC,IAAAN,UAAA,CAAA3I,OAAA,EAAWyI,YAAY,EAAE,SAAS,CAAC,EAAE;QACxCD,YAAY,CAACkB,OAAO,GAAG,UAACtE,CAAC,EAAc;UACrCe,YAAY,CAAC,IAAI,EAAEf,CAAC,CAAC;UAAC,SAAAuE,KAAA,GAAAZ,SAAA,CAAAC,MAAA,EADMC,IAAI,OAAAC,KAAA,CAAAS,KAAA,OAAAA,KAAA,WAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;YAAJX,IAAI,CAAAW,KAAA,QAAAb,SAAA,CAAAa,KAAA;UAAA;UAEhCnE,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,SAAS,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;QAC3D,CAAC;MACH;IACF;;IAEA;AACJ;AACA;IACI,IAAI,IAAAN,UAAA,CAAA3I,OAAA,EAAWyI,YAAY,EAAE,OAAO,CAAC,EAAE;MACrCD,YAAY,CAACkB,OAAO,GAAG,UAACtE,CAAC,EAAc;QACrCc,UAAU,CAAC,CAAC7B,IAAI,EAAEe,CAAC,CAAC;QAAC,SAAAyE,KAAA,GAAAd,SAAA,CAAAC,MAAA,EADOC,IAAI,OAAAC,KAAA,CAAAW,KAAA,OAAAA,KAAA,WAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;UAAJb,IAAI,CAAAa,KAAA,QAAAf,SAAA,CAAAe,KAAA;QAAA;QAEhCrE,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,SAAS,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;MAC3D,CAAC;IACH;;IAEA;AACJ;AACA;IACI,IAAI,IAAAN,UAAA,CAAA3I,OAAA,EAAWyI,YAAY,EAAE,SAAS,CAAC,EAAE;MACvCD,YAAY,CAACuB,aAAa,GAAG,UAAC3E,CAAC,EAAc;QAC3Ce,YAAY,CAAC,CAAC9B,IAAI,EAAEe,CAAC,CAAC;QAAC,SAAA4E,KAAA,GAAAjB,SAAA,CAAAC,MAAA,EADWC,IAAI,OAAAC,KAAA,CAAAc,KAAA,OAAAA,KAAA,WAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;UAAJhB,IAAI,CAAAgB,KAAA,QAAAlB,SAAA,CAAAkB,KAAA;QAAA;QAEtCxE,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,eAAe,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;QAC/D7D,CAAC,CAACW,cAAc,CAAC,CAAC;MACpB,CAAC;IACH;;IAEA;AACJ;AACA;AACA;IACI,IAAI,IAAA4C,UAAA,CAAA3I,OAAA,EAAWyI,YAAY,EAAE,OAAO,CAAC,EAAE;MACrCD,YAAY,CAAC0B,YAAY,GAAG,UAAC9E,CAAC,EAAc;QAC1Ce,YAAY,CAAC,IAAI,EAAEf,CAAC,CAAC;QACrB,IAAA+E,yBAAkB,EAACpI,OAAO,CAACyB,MAAM,EAAE,OAAO,CAAC;QAAC,SAAA4G,KAAA,GAAArB,SAAA,CAAAC,MAAA,EAFXC,IAAI,OAAAC,KAAA,CAAAkB,KAAA,OAAAA,KAAA,WAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;UAAJpB,IAAI,CAAAoB,KAAA,QAAAtB,SAAA,CAAAsB,KAAA;QAAA;QAGrC5E,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,cAAc,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;MAChE,CAAC;MACDT,YAAY,CAAC8B,YAAY,GAAG,UAAClF,CAAC,EAAc;QAC1Ce,YAAY,CAAC,KAAK,EAAEf,CAAC,CAAC;QAAC,SAAAmF,KAAA,GAAAxB,SAAA,CAAAC,MAAA,EADUC,IAAI,OAAAC,KAAA,CAAAqB,KAAA,OAAAA,KAAA,WAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;UAAJvB,IAAI,CAAAuB,KAAA,QAAAzB,SAAA,CAAAyB,KAAA;QAAA;QAErC/E,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,cAAc,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;MAChE,CAAC;MACD,IAAI,CAAC,IAAAN,UAAA,CAAA3I,OAAA,EAAWyI,YAAY,EAAE,SAAS,CAAC,EAAE;QACxCD,YAAY,CAACkB,OAAO,GAAG,UAACtE,CAAC,EAAc;UACrCe,YAAY,CAAC,IAAI,EAAEf,CAAC,CAAC;UAAC,SAAAqF,KAAA,GAAA1B,SAAA,CAAAC,MAAA,EADMC,IAAI,OAAAC,KAAA,CAAAuB,KAAA,OAAAA,KAAA,WAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;YAAJzB,IAAI,CAAAyB,KAAA,QAAA3B,SAAA,CAAA2B,KAAA;UAAA;UAEhCjF,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,SAAS,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;QAC3D,CAAC;MACH;MACAT,YAAY,CAACc,MAAM,GAAG,UAAClE,CAAC,EAAc;QACpC,IAAImE,eAAe,CAACnE,CAAC,CAAC,EAAE;UACtBc,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;QACtB;QAAC,SAAAuF,KAAA,GAAA5B,SAAA,CAAAC,MAAA,EAH0BC,IAAI,OAAAC,KAAA,CAAAyB,KAAA,OAAAA,KAAA,WAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;UAAJ3B,IAAI,CAAA2B,KAAA,QAAA7B,SAAA,CAAA6B,KAAA;QAAA;QAI/BnF,QAAA,CAAAzF,OAAA,CAAAoJ,KAAA,UAASb,wBAAwB,EAAE,QAAQ,EAAEnD,CAAC,EAAAiE,MAAA,CAAKJ,IAAI,EAAC;MAC1D,CAAC;IACH;IAEA,OAAA3I,MAAA,CAAAqB,MAAA,KAAY4G,wBAAwB,EAAKC,YAAY;EACvD,CAAC;EAED,IAAMqC,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,eAAgB,EAAK;IAC5C,IAAMC,mBAAwB,GAAG,CAAC,CAAC;IACnC,IAAMtC,YAAY,GAAG,IAAAC,SAAA,CAAA1I,OAAA,EAAU6C,EAAE,CAAC,GAAGA,EAAE,GAAG,CAACA,EAAE,CAAC;;IAE9C;AACJ;AACA;IACI,IAAI,IAAA8F,UAAA,CAAA3I,OAAA,EAAWyI,YAAY,EAAE,OAAO,CAAC,EAAE;MACrCsC,mBAAmB,CAACnC,OAAO,GAAG,UAACxD,CAAC,EAAE4F,YAAY,EAAK;QACjD9E,UAAU,CAAC,IAAI,EAAEd,CAAC,CAAC;QACnB0F,eAAe,IAAI,IAAArF,QAAA,CAAAzF,OAAA,EAAS8K,eAAe,EAAE,SAAS,EAAE1F,CAAC,EAAE4F,YAAY,CAAC;MAC1E,CAAC;MACDD,mBAAmB,CAACzB,MAAM,GAAG,UAAClE,CAAC,EAAE4F,YAAY,EAAK;QAChD,IAAIzB,eAAe,CAACnE,CAAC,CAAC,EAAE;UACtBc,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;QACtB;QACA0F,eAAe,IAAI,IAAArF,QAAA,CAAAzF,OAAA,EAAS8K,eAAe,EAAE,QAAQ,EAAE1F,CAAC,EAAE4F,YAAY,CAAC;MACzE,CAAC;IACH;;IAEA;AACJ;AACA;IACI,IAAI,IAAArC,UAAA,CAAA3I,OAAA,EAAWyI,YAAY,EAAE,OAAO,CAAC,EAAE;MACrCsC,mBAAmB,CAACb,YAAY,GAAG,UAAC9E,CAAC,EAAE4F,YAAY,EAAK;QACtD7E,YAAY,CAAC,IAAI,EAAEf,CAAC,CAAC;QACrB0F,eAAe,IAAI,IAAArF,QAAA,CAAAzF,OAAA,EAAS8K,eAAe,EAAE,cAAc,EAAE1F,CAAC,EAAE4F,YAAY,CAAC;MAC/E,CAAC;MACDD,mBAAmB,CAACT,YAAY,GAAG,UAAClF,CAAC,EAAE4F,YAAY,EAAK;QACtD7E,YAAY,CAAC,KAAK,EAAEf,CAAC,CAAC;QACtB0F,eAAe,IAAI,IAAArF,QAAA,CAAAzF,OAAA,EAAS8K,eAAe,EAAE,cAAc,EAAE1F,CAAC,EAAE4F,YAAY,CAAC;MAC/E,CAAC;IACH;IAEA,OAAOD,mBAAmB;EAC5B,CAAC;EAED,IAAMxB,eAAe,GAAG,SAAlBA,eAAeA,CAAInE,CAAmB,EAAK;IAC/C,IAAM6F,aAAa,GAAG7F,CAAC,CAAC6F,aAAqB;IAC7C,IAAMC,eAAe,GAAG,IAAA5F,6BAAe,EAACR,eAAe,CAACS,OAAO,EAAE0F,aAA4B,CAAC;IAC9F,IAAME,cAAc,GAAG,IAAA7F,6BAAe,EAACF,CAAC,CAACgG,aAAa,EAAiBH,aAA4B,CAAC;IACpG;IACA;IACA,OAAOA,aAAa,IAAI,EAAEC,eAAe,IAAIC,cAAc,CAAC;EAC9D,CAAC;EAED,IAAME,oBAAoB,GACxB,SADIA,oBAAoBA,CACxBC,OAAO;IAAA,OACP,UAAAC,IAAA,EAAwD;MAAA,IAArDC,SAAS,GAAAD,IAAA,CAATC,SAAS;QAAEC,cAAc,GAAAF,IAAA,CAAdE,cAAc;MAC1B,IAAMC,OAAO,GAAGpI,aAAa,GAAGA,aAAa,CAACmI,cAAc,CAAC,GAAGtK,KAAK,CAACuK,OAAO;MAC7E,IAAMC,YAAY,GAAG7J,KAAK,CAAC8J,OAAO,CAACC,MAAM,CAACH,OAAO,IAAI,CAAC,CAAC,EAAE;QACvDI,YAAY,EAAE,SAAAA,aAAA;UAAA,OACZpG,YAAY,CAAC,OAAO,EAAApF,MAAA,CAAAqB,MAAA,KACfkJ,eAAe,CAAC,CAAC;YACpBW,SAAS,EAATA,SAAS;YACTtI,QAAQ,EAARA,QAAQ;YACR6I,UAAU,EAAEhH,gBAAgB;YAC5BtB,SAAS,EAATA,SAAS;YACThB,SAAS,EAATA,SAAS;YACToB,QAAQ,EAARA,QAAQ;YACRmI,SAAS,EAAEV;UAAO,EACnB,CAAC;QAAA;QACJW,aAAa,EAAEpB;MACjB,CAAC,CAAC;MAEF,oBACE7L,KAAA,CAAAkN,aAAA,CAACvN,8BAAA,CAAAwN,oBAAoB,QAClB,UAACzF,OAAO,EAAE0F,UAAU;QAAA,oBACnBpN,KAAA,CAAAkN,aAAA,CAAAlN,KAAA,CAAAqN,QAAA,qBACErN,KAAA,CAAAkN,aAAA,CAACtN,kBAAA,CAAAsC,GAAG;UACFoL,QAAQ,EAAE,SAAAA,SAAAC,UAAU,EAAI;YACtBzH,eAAe,CAACS,OAAO,GAAGgH,UAAU;YACpC,IAAAC,4BAAS,EAAC7J,UAAU,EAAE4J,UAAU,CAAC;YACjCH,UAAU,CAAC7G,OAAO,GAAGgH,UAAU;UACjC;QAAE,GAEDZ,YACE,CAAC,EAEL5J,OAAO,CAACyB,MAAM,iBACbxE,KAAA,CAAAkN,aAAA,CAAAlN,KAAA,CAAAqN,QAAA,qBACErN,KAAA,CAAAkN,aAAA,CAACxN,4BAAA,CAAA+N,aAAa;UAACC,QAAQ,EAAE5F,eAAgB;UAACtD,MAAM,EAAEzB,OAAO,CAACyB,MAAO;UAACvC,IAAI,EAAC;QAAW,CAAE,CAAC,eACrFjC,KAAA,CAAAkN,aAAA,CAACxN,4BAAA,CAAA+N,aAAa;UAACC,QAAQ,EAAEjG,mBAAmB,CAACC,OAAO,CAAE;UAAClD,MAAM,EAAEzB,OAAO,CAACyB,MAAO;UAACvC,IAAI,EAAC,OAAO;UAAC0L,OAAO;QAAA,CAAE,CAAC,eACtG3N,KAAA,CAAAkN,aAAA,CAACxN,4BAAA,CAAA+N,aAAa;UACZC,QAAQ,EAAEjG,mBAAmB,CAACC,OAAO,CAAE;UACvClD,MAAM,EAAEzB,OAAO,CAACyB,MAAO;UACvBvC,IAAI,EAAC,aAAa;UAClB0L,OAAO;QAAA,CACR,CAAC,eACF3N,KAAA,CAAAkN,aAAA,CAACxN,4BAAA,CAAA+N,aAAa;UACZC,QAAQ,EAAE3F,qBAAqB,CAACL,OAAO,CAAE;UACzClD,MAAM,EAAEzB,OAAO,CAACyB,MAAO;UACvBvC,IAAI,EAAC,SAAS;UACd0L,OAAO;QAAA,CACR,CAAC,EAED,CAAClI,oBAAoB,IAAIX,aAAa,kBACrC9E,KAAA,CAAAkN,aAAA,CAAAlN,KAAA,CAAAqN,QAAA,qBACErN,KAAA,CAAAkN,aAAA,CAACxN,4BAAA,CAAA+N,aAAa;UAACC,QAAQ,EAAEE,eAAgB;UAACpJ,MAAM,EAAEzB,OAAO,CAACyB,MAAO;UAACvC,IAAI,EAAC,OAAO;UAAC0L,OAAO;QAAA,CAAE,CAAC,eACzF3N,KAAA,CAAAkN,aAAA,CAACxN,4BAAA,CAAA+N,aAAa;UAACC,QAAQ,EAAEE,eAAgB;UAACpJ,MAAM,EAAEzB,OAAO,CAACyB,MAAO;UAACvC,IAAI,EAAC,WAAW;UAAC0L,OAAO;QAAA,CAAE,CAC5F,CAEJ,CAEJ,CAAC;MAAA,CAEe,CAAC;IAE3B,CAAC;EAAA;EAEH,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIxH,CAA0B,EAAK;IACtD;IACA,IAAI,CAAC,IAAAE,6BAAe,EAACR,eAAe,CAACS,OAAO,EAAEH,CAAC,CAAC5B,MAAqB,CAAC,EAAE;MACtE0C,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;IACtB;EACF,CAAC;EAED,IAAMc,UAAU,GAAG,SAAbA,UAAUA,CACd2G,QAAiB,EACjBC,KAAoG,EACjG;IACH,IAAMrI,oBAAoB,GAAGoI,QAAQ,IAAI,IAAAE,0BAAY,EAACD,KAAyB,CAAC;;IAEhF;IACA,IAAID,QAAQ,EAAE;MACZG,yBAAyB,CAAC,CAAC;MAC3BC,qBAAqB,CAACxI,oBAAoB,IAAKqI,KAAK,CAAsBI,WAAW,CAAC;IACxF;IAEA5I,OAAO,CAACuI,QAAQ,CAAC;IACjBnI,uBAAuB,CAACD,oBAAoB,CAAC;IAE7C,IAAAgB,QAAA,CAAAzF,OAAA,EAASmB,KAAK,EAAE,cAAc,EAAE2L,KAAK,EAAAxM,MAAA,CAAAqB,MAAA,KAAOR,KAAK,EAAK;MAAEkD,IAAI,EAAEwI;IAAS,CAAC,CAAE,CAAC;EAC7E,CAAC;EAED,IAAM1G,YAAY,GAAG,SAAfA,YAAYA,CAAIgH,OAAgB,EAAE/H,CAAsB,EAAK;IACjEgI,YAAY,CAACzI,cAAc,CAACY,OAAO,CAAC;IACpC4H,OAAO,GAAGjH,UAAU,CAAC,IAAI,EAAEd,CAAC,CAAC,GAAGiI,kBAAkB,CAACjI,CAAC,CAAC;EACvD,CAAC;EAED,IAAMiI,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIjI,CAAsB,EAAK;IACrDT,cAAc,CAACY,OAAO,GAAG+H,UAAU,CAAC,YAAM;MACxCpH,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;IACtB,CAAC,EAAErC,eAAe,CAAQ;EAC5B,CAAC;EAED,IAAMiD,MAAK,GAAG,SAARA,MAAKA,CAAIZ,CAAC,EAAEmI,OAAkB,EAAK;IACvC,IAAIlJ,IAAI,EAAE;MACR6B,UAAU,CAAC,KAAK,EAAEd,CAAC,CAAC;MACpBmI,OAAO,IAAIA,OAAO,CAAC,CAAC;MACpBnI,CAAC,CAACkB,eAAe,CAAC,CAAC;IACrB;EACF,CAAC;;EAED;AACF;AACA;AACA;EACE,IAAM0G,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAA,EAAS;IAAA,IAAAQ,eAAA;IACtC,IAAM7F,aAAa,IAAA6F,eAAA,GAAGzL,OAAO,CAACyB,MAAM,qBAAdgK,eAAA,CAAgB7F,aAAa;IACnD,IAAIA,aAAa,EAAE;MACjB1C,mBAAmB,CAACM,OAAO,GACzBP,UAAU,CAACO,OAAO,IAAI,IAAAD,6BAAe,EAACN,UAAU,CAACO,OAAO,EAAEoC,aAA4B,CAAC,GAClFA,aAAa,GACd3C,UAAU,CAACO,OAAO;IAC1B;EACF,CAAC;EAED,IAAM0H,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIC,WAAuB,EAAK;IACzDhI,yBAAyB,CAACK,OAAO,GAAG2H,WAAW,GAAG,IAAAO,oCAAwB,EAACP,WAAW,CAAC,GAAG,IAAI;EAChG,CAAC;EAED,IAAIQ,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC;IACA;IACA;IACA5O,KAAK,CAAC6O,SAAS,CAAC,YAAM;MACpB,IAAInL,MAAM,IAAIe,SAAS,EAAE;QACvB;QACAqK,OAAO,CAACC,IAAI,CAAC,qFAAqF,CAAC;MACrG;MACA,IAAI,CAACrL,MAAM,IAAID,SAAS,EAAE;QACxB;QACAqL,OAAO,CAACC,IAAI,CACV,uLACF,CAAC;MACH;IACF,CAAC,EAAE,CAACtL,SAAS,EAAEC,MAAM,EAAEe,SAAS,CAAC,CAAC;EACpC;EAEAzE,KAAK,CAAC6O,SAAS,CAAC,YAAM;IACpB,IAAIxJ,IAAI,EAAE;MACR;MACA2I,yBAAyB,CAAC,CAAC;IAC7B;EACF,CAAC,CAAC;EAEF,IAAMgB,WAAW,GAAG,IAAAC,gCAAiB,EAAC9M,KAAK,CAAC;EAC5C,IAAMqH,YAAY,GAAGH,eAAe,CAAC2F,WAAW,CAAC;EAEjDhP,KAAK,CAAC6O,SAAS,CAAC,YAAM;IACpB,IAAIxJ,IAAI,EAAE;MACR,IAAA6J,8BAAgB,EAACpJ,eAAe,CAACS,OAAO,EAAEP,UAAU,CAACO,OAAO,CAAC;IAC/D;IAEA,OAAO,YAAM;MACX,IAAIlB,IAAI,IAAIS,eAAe,CAACS,OAAO,EAAE;QACnC,IAAA2I,8BAAgB,EAACpJ,eAAe,CAACS,OAAO,EAAE,IAAI,CAAC;MACjD;IACF,CAAC;EACH,CAAC,EAAE,CAAClB,IAAI,CAAC,CAAC;EAEV,IAAM8J,cAAc,gBAClBnP,KAAA,CAAAkN,aAAA,CAAC1M,UAAA,CAAA4O,SAAS;IAACC,YAAY;IAACC,aAAa;IAACC,OAAO,EAAElK,IAAK;IAACmK,IAAI,EAAEnK,IAAI,GAAG,YAAY,GAAG;EAAa,GAC3F,UAAAoK,KAAA,EAAiB;IAAA,IAAdnD,OAAO,GAAAmD,KAAA,CAAPnD,OAAO;IACT,IAAMI,OAAO,gBACX1M,KAAA,CAAAkN,aAAA,CAAC/M,WAAA,CAAAuP,MAAM;MACL3J,gBAAgB,EAAEA,gBAAiB;MACnCvC,KAAK,EAAEA,KAAM;MACbI,YAAY,EAAEA,YAAa;MAC3BO,SAAS,EAAEA,SAAU;MACrBC,QAAQ,EAAEA,QAAS;MACnBC,aAAa,EAAEA,aAAc;MAC7BL,MAAM,EAAEA,MAAO;MACfC,gBAAgB,EAAEA,gBAAiB;MACnCuD,GAAG,EAAEzE,OAAO,CAACyE,GAAI;MACjB7C,sBAAsB,EAAEA,sBAAuB;MAC/CC,eAAe,EAAEA,eAAgB;MACjCC,QAAQ,EAAEA,QAAS;MACnB8K,SAAS,EAAEzJ,yBAAyB,CAACK,OAAO,IAAI/B,MAAM,IAAIwB;IAAW,GAEpEqG,oBAAoB,CAACC,OAAO,CACvB,CACT;IACD,OAAO5I,MAAM,GAAGgJ,OAAO,gBAAG1M,KAAA,CAAAkN,aAAA,CAAC3M,YAAA,CAAAqP,WAAW;MAAC9L,SAAS,EAAEA;IAAU,GAAE4I,OAAqB,CAAC;EACtF,CACS,CACZ;EAED,IAAMpD,cAAc,GAAG0F,WAAW,iBAChChP,KAAA,CAAAkN,aAAA,CAACtN,kBAAA,CAAAsC,GAAG;IAACoL,QAAQ,EAAEtH;EAAW,gBACvBhG,KAAK,CAAC6P,YAAY,CAACb,WAAW,EAAwBtI,YAAY,CAAC,SAAS,EAAE8C,YAAY,CAAC,CACzF,CACN;EAED,IAAMxH,OAAO,gBACXhC,KAAA,CAAAkN,aAAA,CAAAlN,KAAA,CAAAqN,QAAA,QACG/D,cAAc,EACd6F,cACD,CACH;EACD7L,MAAM,CAAC,CAAC;EAER,OAAOtB,OAAO;AAChB,CAAC;AAACa,OAAA,CAAAC,KAAA,GAAAA,KAAA;AAEFA,KAAK,CAACK,WAAW,GAAG,OAAO;AAE3BL,KAAK,CAACgN,SAAS,GAAAxO,MAAA,CAAAqB,MAAA,KACVoN,sBAAe,CAACC,YAAY,CAAC;EAC9BC,EAAE,EAAE,KAAK;EACTvD,OAAO,EAAE;AACX,CAAC,CAAC;EACFlJ,KAAK,EAAEzD,SAAS,CAACmQ,KAAK,CAACC,sBAAU,CAAC;EAClChL,WAAW,EAAEpF,SAAS,CAACqQ,IAAI;EAC3B1M,MAAM,EAAE3D,SAAS,CAACqQ,IAAI;EACtBtM,SAAS,EAAEjE,eAAe,CAACwQ,OAAO;EAClCtM,eAAe,EAAEhE,SAAS,CAACuQ,MAAM;EACjCtM,MAAM,EAAEjE,SAAS,CAACwQ,SAAS,CAAC,CAC1BxQ,SAAS,CAACyQ,IAAI,EACdzQ,SAAS,CAAC0Q,OAAO,CAAC1Q,SAAS,CAACuQ,MAAM,CAAC,CACpC,CAAC;EACFnM,SAAS,EAAEtE,eAAe,CAAC6Q,GAAG;EAC9B9M,YAAY,EAAE7D,SAAS,CAACwQ,SAAS,CAAC,CAChCxQ,SAAS,CAAC4Q,MAAM,EAChB5Q,SAAS,CAAC0Q,OAAO,CAAC1Q,SAAS,CAAC4Q,MAAM,CAAC,EACnC5Q,SAAS,CAACmQ,KAAK,CAAgD,CAAC,iBAAiB,EAAE,QAAQ,EAAE,cAAc,CAAC,CAAC,CAC9G,CAAC;EACFjM,gBAAgB,EAAElE,SAAS,CAACwQ,SAAS,CAAC,CACpCxQ,SAAS,CAAC4Q,MAAM,EAChB5Q,SAAS,CAAC0Q,OAAO,CAAC1Q,SAAS,CAAC4Q,MAAM,CAAC,EACnC5Q,SAAS,CAACmQ,KAAK,CAAgD,CAAC,iBAAiB,EAAE,QAAQ,EAAE,cAAc,CAAC,CAAC,CAC9G,CAAC;EACFrM,EAAE,EAAE9D,SAAS,CAACwQ,SAAS,CAAC,CACtBxQ,SAAS,CAACmQ,KAAK,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,EACvDnQ,SAAS,CAAC0Q,OAAO,CAAC1Q,SAAS,CAACmQ,KAAK,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,EACjEnQ,SAAS,CAAC0Q,OAAO,CAAC1Q,SAAS,CAACmQ,KAAK,CAAC,CAAC,OAAO,EAAE,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC,CAClE,CAAQ;EACT7K,IAAI,EAAEtF,SAAS,CAACqQ,IAAI;EACpBQ,YAAY,EAAE7Q,SAAS,CAACyQ,IAAI;EAC5BtM,QAAQ,EAAEnE,SAAS,CAACqQ,IAAI;EACxBhM,QAAQ,EAAErE,SAAS,CAACmQ,KAAK,CAACW,qBAAS,CAAC;EACpCxM,aAAa,EAAEtE,SAAS,CAACqQ,IAAI;EAC7B9L,aAAa,EAAEvE,SAAS,CAACyQ,IAAI;EAC7BhM,MAAM,EAAEzE,SAAS,CAAC+Q,GAAG;EACrBpM,OAAO,EAAE7E,eAAe,CAACkR,KAAK,CAAC,CAAClR,eAAe,CAACmR,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,EAAEjR,SAAS,CAAC+Q,GAAG,CAAC,CAAC;EACvFvM,eAAe,EAAExE,SAAS,CAACqQ,IAAI;EAC/BzL,sBAAsB,EAAE5E,SAAS,CAACmQ,KAAK,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;EAC7DtL,eAAe,EAAE7E,SAAS,CAACqQ,IAAI;EAC/BvL,QAAQ,EAAE9E,SAAS,CAACmQ,KAAK,CAAWe,qBAAS,CAAC;EAC9CvE,OAAO,EAAE7M,eAAe,CAACqR,yBAAyB;EAClDvN,UAAU,EAAE9D,eAAe,CAAC6Q,GAAG;EAC/BjM,SAAS,EAAE1E,SAAS,CAACwQ,SAAS,CAAC,CAACxQ,SAAS,CAACqQ,IAAI,EAAErQ,SAAS,CAAC4Q,MAAM,CAAC,CAAC;EAClElN,SAAS,EAAE1D,SAAS,CAACwQ,SAAS,CAAC,CAACxQ,SAAS,CAACqQ,IAAI,EAAErQ,SAAS,CAAC4Q,MAAM,CAAC,CAAC;EAClE7L,aAAa,EAAE/E,SAAS,CAACqQ;AAAI,EAC9B;AACDtN,KAAK,CAACgK,YAAY,GAAG;EACnBvJ,aAAa,EAAE4N,4BAAa;EAC5B3N,KAAK,EAAE,OAAO;EACdY,QAAQ,EAAE,OAAO;EACjBP,EAAE,EAAE,OAAO;EACXE,eAAe,EAAE,GAAG;EACpBQ,eAAe,EAAE;AACnB,CAAC;AACDzB,KAAK,CAACsO,YAAY,GAAG9P,MAAM,CAACe,IAAI,CAACS,KAAK,CAACgN,SAAS,CAAQ;AAExDhN,KAAK,CAAC8J,OAAO,GAAGyE,0BAAY;AAE5BvO,KAAK,CAAC+J,MAAM,GAAG,IAAAyE,iCAAsB,EAAC;EAAEC,SAAS,EAAEzO,KAAK;EAAE0O,UAAU,EAAE;AAAU,CAAC,CAAC;AAClF1O,KAAK,CAAC2O,eAAe,GAAG;EACtBD,UAAU,EAAE;AACd,CAAC"}