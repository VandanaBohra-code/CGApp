{"version":3,"file":"MenuButton.js","names":["React","_interopRequireWildcard","require","PropTypes","_accessibility","_reactComponentRef","customPropTypes","_utils","_factories","_Popup","_Menu","_focusUtils","_positioner","_reactBindings","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","menuButtonClassName","exports","menuButtonSlotClassNames","menu","MenuButton","forwardRef","props","ref","context","useFluentContext","_useTelemetry","useTelemetry","displayName","telemetry","setStart","setEnd","contextMenu","accessibility","align","className","defaultOpen","flipBoundary","mountNode","mouseLeaveDelay","offset","on","onOpenChange","overflowBoundary","pointing","popperRef","position","positionFixed","tabbableTrigger","target","trigger","unstable_disableTether","unstable_pinned","autoSize","variables","_useAutoControlled","useAutoControlled","defaultValue","value","open","initialValue","setOpen","useOnIFrameFocus","e","__","_invoke2","assign","menuId","useRef","current","getOrGenerateIdFromShorthand","triggerId","triggerRef","menuRef","ElementType","getElementType","unhandledProps","useUnhandledProps","handledProps","getA11yProps","useAccessibility","debugName","actionHandlers","closeMenu","openAndFocusFirst","openAndFocus","openAndFocusLast","mapPropsToBehavior","rtl","popupProps","_useStyles","useStyles","mapPropsToInlineStyles","styles","classes","resolvedStyles","handleOpenChange","which","preventDefault","focusMenuItem","callback","handleMenuOverrides","predefinedProps","onItemClick","itemProps","onKeyDown","stopPropagation","content","Menu","create","defaultProps","vertical","overrideProps","unstable_behaviorDefinition","_ref","popupContent","createElement","Ref","innerRef","children","undefined","trapFocus","inline","autoFocus","popup","Popup","element","unstable_wrapWithFocusZone","root","propTypes","commonPropTypes","createCommon","oneOf","ALIGNMENTS","bool","domNode","number","oneOfType","func","arrayOf","object","onMenuItemClick","POSITIONS","any","every","disallow","AUTOSIZES","itemShorthandWithoutJSX","menuButtonBehavior","keys","createShorthandFactory","Component","mappedProp"],"sources":["components/MenuButton/MenuButton.tsx"],"sourcesContent":["import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash';\nimport { Accessibility, menuButtonBehavior, MenuButtonBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\n\nimport { commonPropTypes, StyledComponentProps, getOrGenerateIdFromShorthand } from '../../utils';\nimport { ShorthandValue, ComponentEventHandler, ShorthandCollection, FluentComponentStaticProps } from '../../types';\n\nimport { createShorthandFactory } from '../../utils/factories';\nimport { Popup, PopupProps, PopupEvents, PopupEventsArray } from '../Popup/Popup';\nimport { Menu, MenuProps } from '../Menu/Menu';\nimport { MenuItemProps } from '../Menu/MenuItem';\nimport { focusMenuItem } from './focusUtils';\nimport { ALIGNMENTS, POSITIONS, PositioningProps, AutoSize, AUTOSIZES } from '../../utils/positioner';\nimport {\n  useAccessibility,\n  useTelemetry,\n  getElementType,\n  useUnhandledProps,\n  useFluentContext,\n  useAutoControlled,\n  useStyles,\n  useOnIFrameFocus,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface MenuButtonSlotClassNames {\n  menu: string;\n}\n\nexport interface MenuButtonProps extends StyledComponentProps<MenuButtonProps>, PositioningProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @default menuButtonBehavior\n   */\n  accessibility?: Accessibility<MenuButtonBehaviorProps>;\n\n  /** Additional CSS class name(s) to apply.  */\n  className?: string;\n\n  /** Initial value for 'open'. */\n  defaultOpen?: boolean;\n\n  /** Existing element the popup should be bound to. */\n  mountNode?: HTMLElement;\n\n  /** Delay in ms for the mouse leave event, before the popup will be closed. */\n  mouseLeaveDelay?: number;\n\n  /** Events triggering the popup. */\n  on?: PopupEvents | PopupEventsArray;\n\n  /** Defines whether popup is displayed. */\n  open?: boolean;\n\n  /**\n   * Called after user's click on a menu item.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onMenuItemClick?: ComponentEventHandler<MenuItemProps>;\n\n  /**\n   * Event for request to change 'open' value.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onOpenChange?: ComponentEventHandler<PopupProps>;\n\n  /** A popup can show a pointer to trigger. */\n  pointing?: boolean;\n\n  /**\n   * DOM element that should be used as popup's target - instead of 'trigger' element that is used by default.\n   */\n  target?: HTMLElement;\n\n  /** Element to be rendered in-place where the popup is defined. */\n  trigger?: JSX.Element;\n\n  /** Whether the trigger should be tabbable */\n  tabbableTrigger?: boolean;\n\n  /** Shorthand for menu configuration */\n  menu?: ShorthandValue<MenuProps> | ShorthandCollection<MenuItemProps>;\n\n  /** Determines if the MenuButton behaves as context menu */\n  contextMenu?: boolean;\n}\n\nexport interface MenuButtonState {\n  open: boolean;\n  menuId: string;\n  triggerId: string;\n}\n\nexport const menuButtonClassName = 'ui-menubutton';\nexport const menuButtonSlotClassNames: MenuButtonSlotClassNames = {\n  menu: `${menuButtonClassName}__menu`,\n};\n\nexport type MenuButtonStylesProps = never;\n\n/**\n * A MenuButton displays a menu connected to trigger element.\n * @accessibility\n */\nexport const MenuButton = React.forwardRef<HTMLDivElement, MenuButtonProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(MenuButton.displayName, context.telemetry);\n  setStart();\n\n  const {\n    // MenuButton props:\n    contextMenu,\n    menu,\n    // Popup props:\n    accessibility,\n    align,\n    className,\n    defaultOpen,\n    flipBoundary,\n    mountNode,\n    mouseLeaveDelay,\n    offset,\n    on,\n    onOpenChange,\n    overflowBoundary,\n    pointing,\n    popperRef,\n    position,\n    positionFixed,\n    tabbableTrigger,\n    target,\n    trigger,\n    unstable_disableTether,\n    unstable_pinned,\n    autoSize,\n    variables,\n  } = props;\n\n  const [open, setOpen] = useAutoControlled({\n    defaultValue: props.defaultOpen,\n    value: props.open,\n    initialValue: false,\n  });\n\n  useOnIFrameFocus(open, context.target, (e: Event) => {\n    setOpen(__ => {\n      _.invoke(props, 'onOpenChange', e, { ...props, ...{ open: false } });\n      return false;\n    });\n  });\n\n  const menuId = React.useRef<string>();\n  menuId.current = getOrGenerateIdFromShorthand('menubutton-menu-', menu, menuId.current);\n  const triggerId = React.useRef<string>();\n  triggerId.current = getOrGenerateIdFromShorthand('menubutton-trigger-', trigger, triggerId.current);\n\n  const triggerRef = React.useRef<HTMLElement>();\n  const menuRef = React.useRef<HTMLElement>();\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(MenuButton.handledProps, props);\n\n  const getA11yProps = useAccessibility<MenuButtonBehaviorProps>(accessibility, {\n    debugName: MenuButton.displayName,\n    actionHandlers: {\n      closeMenu: e => closeMenu(e),\n      openAndFocusFirst: e => openAndFocus(e, 'first'),\n      openAndFocusLast: e => openAndFocus(e, 'last'),\n    },\n    mapPropsToBehavior: () => ({\n      menuId: menuId.current,\n      triggerId: triggerId.current,\n      open,\n      trigger: props.trigger,\n      contextMenu,\n      on,\n      tabbableTrigger,\n    }),\n    rtl: context.rtl,\n  });\n\n  const popupProps: PopupProps = {\n    accessibility,\n    align,\n    defaultOpen,\n    mountNode,\n    mouseLeaveDelay,\n    flipBoundary,\n    offset,\n    on,\n    onOpenChange,\n    open,\n    overflowBoundary,\n    pointing,\n    popperRef,\n    position,\n    positionFixed,\n    tabbableTrigger,\n    target,\n    trigger,\n    unstable_disableTether,\n    unstable_pinned,\n    autoSize,\n  };\n\n  const { classes, styles: resolvedStyles } = useStyles<MenuButtonStylesProps>(MenuButton.displayName, {\n    className: menuButtonClassName,\n    mapPropsToInlineStyles: () => ({\n      className,\n      styles: props.styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const closeMenu = (e: React.KeyboardEvent) => {\n    handleOpenChange(e, false);\n  };\n\n  const openAndFocus = (e: React.KeyboardEvent, which: 'first' | 'last') => {\n    e.preventDefault();\n    handleOpenChange(e, true, () => menuRef.current && focusMenuItem(menuRef.current, which));\n  };\n\n  const handleOpenChange = (e: React.SyntheticEvent, open: boolean, callback?: () => void) => {\n    _.invoke(props, 'onOpenChange', e, { ...props, open });\n    setOpen(open);\n    callback && callback();\n  };\n\n  const handleMenuOverrides = (predefinedProps: MenuProps) => ({\n    onItemClick: (e: React.SyntheticEvent, itemProps: MenuItemProps) => {\n      _.invoke(predefinedProps, 'onItemClick', e, itemProps);\n      _.invoke(props, 'onMenuItemClick', e, itemProps);\n      if (!itemProps || !itemProps.menu) {\n        // do not close if clicked on item with submenu\n        handleOpenChange(e, false);\n      }\n    },\n    onKeyDown: (e: React.KeyboardEvent, itemProps: MenuItemProps) => {\n      _.invoke(predefinedProps, 'onKeyDown', e, itemProps);\n      if (e.key === 'ArrowLeft' || e.key === 'ArrowRight') {\n        e.stopPropagation();\n      }\n    },\n  });\n\n  const content = Menu.create(menu, {\n    defaultProps: () =>\n      getA11yProps('menu', {\n        vertical: true,\n        className: menuButtonSlotClassNames.menu,\n      }),\n    overrideProps: handleMenuOverrides,\n  });\n\n  const overrideProps: PopupProps = {\n    accessibility: getA11yProps.unstable_behaviorDefinition,\n    open,\n    onOpenChange: (e, { open }) => {\n      handleOpenChange(e, open);\n    },\n    content: {\n      styles: resolvedStyles.popupContent,\n      content: content && <Ref innerRef={menuRef}>{content}</Ref>,\n    },\n    children: undefined, // force-reset `children` defined for `Popup` as it collides with the `trigger\n    ...(contextMenu\n      ? {\n          on: 'context',\n          trapFocus: true,\n          tabbableTrigger: false,\n        }\n      : {\n          inline: true,\n          autoFocus: true,\n        }),\n  };\n\n  const popup = Popup.create(popupProps, { overrideProps });\n\n  if (contextMenu) {\n    setEnd();\n    return popup;\n  }\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11yProps('root', {\n        ref,\n        className: classes.root,\n        ...unhandledProps,\n      })}\n    >\n      <Ref innerRef={triggerRef}>{popup}</Ref>\n    </ElementType>,\n  );\n  setEnd();\n  return element;\n}) as unknown as ForwardRefWithAs<'div', HTMLDivElement, MenuButtonProps> & FluentComponentStaticProps<MenuButtonProps>;\n\nMenuButton.displayName = 'MenuButton';\n\nMenuButton.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  align: PropTypes.oneOf(ALIGNMENTS),\n  defaultOpen: PropTypes.bool,\n  mountNode: customPropTypes.domNode,\n  mouseLeaveDelay: PropTypes.number,\n  offset: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.arrayOf(PropTypes.number) as PropTypes.Requireable<[number, number]>,\n  ]),\n  on: PropTypes.oneOfType([\n    PropTypes.oneOf(['hover', 'click', 'focus', 'context']),\n    PropTypes.arrayOf(PropTypes.oneOf(['click', 'focus', 'context'])),\n    PropTypes.arrayOf(PropTypes.oneOf(['hover', 'focus', 'context'])),\n  ]) as any,\n  flipBoundary: PropTypes.oneOfType([\n    PropTypes.object as PropTypes.Requireable<HTMLElement>,\n    PropTypes.arrayOf(PropTypes.object) as PropTypes.Requireable<HTMLElement[]>,\n    PropTypes.oneOf<'clippingParents' | 'window' | 'scrollParent'>(['clippingParents', 'window', 'scrollParent']),\n  ]),\n  overflowBoundary: PropTypes.oneOfType([\n    PropTypes.object as PropTypes.Requireable<HTMLElement>,\n    PropTypes.arrayOf(PropTypes.object) as PropTypes.Requireable<HTMLElement[]>,\n    PropTypes.oneOf<'clippingParents' | 'window' | 'scrollParent'>(['clippingParents', 'window', 'scrollParent']),\n  ]),\n  open: PropTypes.bool,\n  onMenuItemClick: PropTypes.func,\n  onOpenChange: PropTypes.func,\n  popperRef: customPropTypes.ref,\n  position: PropTypes.oneOf(POSITIONS),\n  positionFixed: PropTypes.bool,\n  target: PropTypes.any,\n  trigger: customPropTypes.every([customPropTypes.disallow(['children']), PropTypes.any]),\n  tabbableTrigger: PropTypes.bool,\n  unstable_disableTether: PropTypes.oneOf([true, false, 'all']),\n  unstable_pinned: PropTypes.bool,\n  autoSize: PropTypes.oneOf<AutoSize>(AUTOSIZES),\n  menu: PropTypes.oneOfType([\n    customPropTypes.itemShorthandWithoutJSX,\n    PropTypes.arrayOf(customPropTypes.itemShorthandWithoutJSX),\n  ]),\n  contextMenu: PropTypes.bool,\n};\n\nMenuButton.defaultProps = {\n  accessibility: menuButtonBehavior,\n  align: 'start',\n  position: 'below',\n};\n\nMenuButton.handledProps = Object.keys(MenuButton.propTypes) as any;\n\nMenuButton.create = createShorthandFactory({ Component: MenuButton, mappedProp: 'menu' });\n"],"mappings":"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"}