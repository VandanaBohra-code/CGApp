{"version":3,"file":"TableRow.js","names":["_accessibility","require","_reactBindings","_reactComponentRef","customPropTypes","_interopRequireWildcard","PropTypes","React","_utils","_TableCell","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","tableRowClassName","exports","TableRow","forwardRef","props","ref","context","useFluentContext","_useTelemetry","useTelemetry","displayName","telemetry","setStart","setEnd","rowRef","useRef","className","design","styles","items","header","compact","children","accessibility","variables","selected","hasChildren","childrenExist","ElementType","getElementType","unhandledProps","useUnhandledProps","handledProps","getA11yProps","useAccessibility","debugName","actionHandlers","unsetRowTabbable","e","current","setAttribute","performClick","currentTarget","target","_invoke2","preventDefault","mapPropsToBehavior","rtl","_useStyles","useStyles","mapPropsToStyles","mapPropsToInlineStyles","classes","renderCells","_map2","item","TableCell","create","defaultProps","overrideProps","predefinedProps","mergeVariablesOverrides","element","createElement","Ref","innerRef","unstable_wrapWithFocusZone","assign","root","propTypes","commonPropTypes","createCommon","content","collectionShorthand","bool","keys","tableRowBehavior","createShorthandFactory","Component","mappedArrayProp"],"sources":["components/Table/TableRow.tsx"],"sourcesContent":["import { Accessibility, tableRowBehavior, GridRowBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  mergeVariablesOverrides,\n  useAccessibility,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n  useFluentContext,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\n\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { FluentComponentStaticProps, ShorthandCollection } from '../../types';\nimport { childrenExist, commonPropTypes, createShorthandFactory, UIComponentProps } from '../../utils';\nimport { TableCell, TableCellProps } from './TableCell';\n\nexport interface TableRowProps extends UIComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * */\n  accessibility?: Accessibility<GridRowBehaviorProps>;\n\n  /**\n   * Row cells\n   */\n  items?: ShorthandCollection<TableCellProps>;\n\n  /**\n   * Is the row a table header\n   */\n  header?: boolean;\n\n  /**\n   * Render table in compact mode\n   */\n  compact?: boolean;\n\n  /**\n   * Whether a row is currently selected or not.\n   */\n  selected?: boolean;\n}\n\nexport const tableRowClassName = 'ui-table__row';\n\nexport type TableRowStylesProps = Pick<TableRowProps, 'header' | 'compact'>;\n\n/**\n * Component represents a single row in a tabular structure\n */\nexport const TableRow = React.forwardRef<HTMLDivElement, TableRowProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(TableRow.displayName, context.telemetry);\n  setStart();\n  const rowRef = React.useRef<HTMLElement>();\n  const { className, design, styles, items, header, compact, children, accessibility, variables, selected } = props;\n\n  const hasChildren = childrenExist(children);\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TableRow.handledProps, props);\n  const getA11yProps = useAccessibility(accessibility, {\n    debugName: TableRow.displayName,\n    actionHandlers: {\n      // https://github.com/microsoft/fluent-ui-react/issues/2150\n      unsetRowTabbable: e => {\n        rowRef.current.setAttribute('tabindex', '-1');\n      },\n      performClick: e => {\n        if (e.currentTarget === e.target) {\n          _.invoke(props, 'onClick', e, props);\n          e.preventDefault();\n        }\n      },\n    },\n    mapPropsToBehavior: () => ({\n      selected,\n      header,\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<TableRowStylesProps>(TableRow.displayName, {\n    className: tableRowClassName,\n    mapPropsToStyles: () => ({\n      header,\n      compact,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const renderCells = () => {\n    return _.map(items, (item: TableCellProps) => {\n      return TableCell.create(item, {\n        defaultProps: () => getA11yProps('cell', {}),\n        overrideProps: predefinedProps => ({\n          variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n        }),\n      });\n    });\n  };\n\n  const element = (\n    <Ref innerRef={rowRef}>\n      {getA11yProps.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11yProps('root', {\n            className: classes.root,\n            ref,\n            ...unhandledProps,\n          })}\n        >\n          {hasChildren && children}\n          {!hasChildren && renderCells()}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n  return element;\n}) as unknown as ForwardRefWithAs<'div', HTMLDivElement, TableRowProps> & FluentComponentStaticProps<TableRowProps>;\n\nTableRow.displayName = 'TableRow';\n\nTableRow.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  items: customPropTypes.collectionShorthand,\n  header: PropTypes.bool,\n  compact: PropTypes.bool,\n  selected: PropTypes.bool,\n};\n\nTableRow.handledProps = Object.keys(TableRow.propTypes) as any;\n\nTableRow.defaultProps = {\n  accessibility: tableRowBehavior,\n};\n\nTableRow.create = createShorthandFactory({ Component: TableRow, mappedArrayProp: 'items' });\n"],"mappings":";;;;;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AACA,IAAAC,cAAA,GAAAD,OAAA;AAUA,IAAAE,kBAAA,GAAAF,OAAA;AACA,IAAAG,eAAA,GAAAC,uBAAA,CAAAJ,OAAA;AAGA,IAAAK,SAAA,GAAAD,uBAAA,CAAAJ,OAAA;AACA,IAAAM,KAAA,GAAAF,uBAAA,CAAAJ,OAAA;AAEA,IAAAO,MAAA,GAAAP,OAAA;AACA,IAAAQ,UAAA,GAAAR,OAAA;AAAwD,SAAAS,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAN,wBAAAU,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,CAAAJ,OAAA,GAAAF,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AA6BjD,IAAMW,iBAAiB,GAAG,eAAe;AAACC,OAAA,CAAAD,iBAAA,GAAAA,iBAAA;AAIjD;AACA;AACA;AACO,IAAME,QAAQ,gBAAG3B,KAAK,CAAC4B,UAAU,CAAgC,UAACC,KAAK,EAAEC,GAAG,EAAK;EACtF,IAAMC,OAAO,GAAG,IAAAC,+BAAgB,EAAC,CAAC;EAClC,IAAAC,aAAA,GAA6B,IAAAC,2BAAY,EAACP,QAAQ,CAACQ,WAAW,EAAEJ,OAAO,CAACK,SAAS,CAAC;IAA1EC,QAAQ,GAAAJ,aAAA,CAARI,QAAQ;IAAEC,MAAM,GAAAL,aAAA,CAANK,MAAM;EACxBD,QAAQ,CAAC,CAAC;EACV,IAAME,MAAM,GAAGvC,KAAK,CAACwC,MAAM,CAAc,CAAC;EAC1C,IAAQC,SAAS,GAA2FZ,KAAK,CAAzGY,SAAS;IAAEC,MAAM,GAAmFb,KAAK,CAA9Fa,MAAM;IAAEC,MAAM,GAA2Ed,KAAK,CAAtFc,MAAM;IAAEC,KAAK,GAAoEf,KAAK,CAA9Ee,KAAK;IAAEC,MAAM,GAA4DhB,KAAK,CAAvEgB,MAAM;IAAEC,OAAO,GAAmDjB,KAAK,CAA/DiB,OAAO;IAAEC,QAAQ,GAAyClB,KAAK,CAAtDkB,QAAQ;IAAEC,aAAa,GAA0BnB,KAAK,CAA5CmB,aAAa;IAAEC,SAAS,GAAepB,KAAK,CAA7BoB,SAAS;IAAEC,QAAQ,GAAKrB,KAAK,CAAlBqB,QAAQ;EAEvG,IAAMC,WAAW,GAAG,IAAAC,oBAAa,EAACL,QAAQ,CAAC;EAC3C,IAAMM,WAAW,GAAG,IAAAC,6BAAc,EAACzB,KAAK,CAAC;EACzC,IAAM0B,cAAc,GAAG,IAAAC,gCAAiB,EAAC7B,QAAQ,CAAC8B,YAAY,EAAE5B,KAAK,CAAC;EACtE,IAAM6B,YAAY,GAAG,IAAAC,+BAAgB,EAACX,aAAa,EAAE;IACnDY,SAAS,EAAEjC,QAAQ,CAACQ,WAAW;IAC/B0B,cAAc,EAAE;MACd;MACAC,gBAAgB,EAAE,SAAAA,iBAAAC,CAAC,EAAI;QACrBxB,MAAM,CAACyB,OAAO,CAACC,YAAY,CAAC,UAAU,EAAE,IAAI,CAAC;MAC/C,CAAC;MACDC,YAAY,EAAE,SAAAA,aAAAH,CAAC,EAAI;QACjB,IAAIA,CAAC,CAACI,aAAa,KAAKJ,CAAC,CAACK,MAAM,EAAE;UAChC,IAAAC,QAAA,CAAA3D,OAAA,EAASmB,KAAK,EAAE,SAAS,EAAEkC,CAAC,EAAElC,KAAK,CAAC;UACpCkC,CAAC,CAACO,cAAc,CAAC,CAAC;QACpB;MACF;IACF,CAAC;IACDC,kBAAkB,EAAE,SAAAA,mBAAA;MAAA,OAAO;QACzBrB,QAAQ,EAARA,QAAQ;QACRL,MAAM,EAANA;MACF,CAAC;IAAA,CAAC;IACF2B,GAAG,EAAEzC,OAAO,CAACyC;EACf,CAAC,CAAC;EAEF,IAAAC,UAAA,GAAoB,IAAAC,wBAAS,EAAsB/C,QAAQ,CAACQ,WAAW,EAAE;MACvEM,SAAS,EAAEhB,iBAAiB;MAC5BkD,gBAAgB,EAAE,SAAAA,iBAAA;QAAA,OAAO;UACvB9B,MAAM,EAANA,MAAM;UACNC,OAAO,EAAPA;QACF,CAAC;MAAA,CAAC;MACF8B,sBAAsB,EAAE,SAAAA,uBAAA;QAAA,OAAO;UAC7BnC,SAAS,EAATA,SAAS;UACTC,MAAM,EAANA,MAAM;UACNC,MAAM,EAANA,MAAM;UACNM,SAAS,EAATA;QACF,CAAC;MAAA,CAAC;MACFuB,GAAG,EAAEzC,OAAO,CAACyC;IACf,CAAC,CAAC;IAbMK,OAAO,GAAAJ,UAAA,CAAPI,OAAO;EAef,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;IACxB,OAAO,IAAAC,KAAA,CAAArE,OAAA,EAAMkC,KAAK,EAAE,UAACoC,IAAoB,EAAK;MAC5C,OAAOC,oBAAS,CAACC,MAAM,CAACF,IAAI,EAAE;QAC5BG,YAAY,EAAE,SAAAA,aAAA;UAAA,OAAMzB,YAAY,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;QAAA;QAC5C0B,aAAa,EAAE,SAAAA,cAAAC,eAAe;UAAA,OAAK;YACjCpC,SAAS,EAAE,IAAAqC,sCAAuB,EAACrC,SAAS,EAAEoC,eAAe,CAACpC,SAAS;UACzE,CAAC;QAAA;MACH,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC;EAED,IAAMsC,OAAO,gBACXvF,KAAA,CAAAwF,aAAA,CAAC5F,kBAAA,CAAA6F,GAAG;IAACC,QAAQ,EAAEnD;EAAO,GACnBmB,YAAY,CAACiC,0BAA0B,eACtC3F,KAAA,CAAAwF,aAAA,CAACnC,WAAW,EACNK,YAAY,CAAC,MAAM,EAAA1C,MAAA,CAAA4E,MAAA;IACrBnD,SAAS,EAAEoC,OAAO,CAACgB,IAAI;IACvB/D,GAAG,EAAHA;EAAG,GACAyB,cAAc,CAClB,CAAC,EAEDJ,WAAW,IAAIJ,QAAQ,EACvB,CAACI,WAAW,IAAI2B,WAAW,CAAC,CAClB,CACf,CACG,CACN;EACDxC,MAAM,CAAC,CAAC;EACR,OAAOiD,OAAO;AAChB,CAAC,CAAkH;AAAC7D,OAAA,CAAAC,QAAA,GAAAA,QAAA;AAEpHA,QAAQ,CAACQ,WAAW,GAAG,UAAU;AAEjCR,QAAQ,CAACmE,SAAS,GAAA9E,MAAA,CAAA4E,MAAA,KACbG,sBAAe,CAACC,YAAY,CAAC;EAC9BC,OAAO,EAAE;AACX,CAAC,CAAC;EACFrD,KAAK,EAAE/C,eAAe,CAACqG,mBAAmB;EAC1CrD,MAAM,EAAE9C,SAAS,CAACoG,IAAI;EACtBrD,OAAO,EAAE/C,SAAS,CAACoG,IAAI;EACvBjD,QAAQ,EAAEnD,SAAS,CAACoG;AAAI,EACzB;AAEDxE,QAAQ,CAAC8B,YAAY,GAAGzC,MAAM,CAACoF,IAAI,CAACzE,QAAQ,CAACmE,SAAS,CAAQ;AAE9DnE,QAAQ,CAACwD,YAAY,GAAG;EACtBnC,aAAa,EAAEqD;AACjB,CAAC;AAED1E,QAAQ,CAACuD,MAAM,GAAG,IAAAoB,6BAAsB,EAAC;EAAEC,SAAS,EAAE5E,QAAQ;EAAE6E,eAAe,EAAE;AAAQ,CAAC,CAAC"}