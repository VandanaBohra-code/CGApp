{"version":3,"file":"Animation.js","names":["_reactBindings","require","_reactComponentRef","_classnames","_interopRequireDefault","PropTypes","_interopRequireWildcard","React","_reactTransitionGroup","_utils","_useAnimationStyles2","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Animation","forwardRef","props","ref","_props","_props3","context","useFluentContext","_useTelemetry","useTelemetry","displayName","telemetry","setStart","setEnd","appear","children","className","mountOnEnter","timeout","visible","unmountOnExit","handleAnimationEvent","event","_invoke2","_useAnimationStyles","useAnimationStyles","animationClasses","animationDuration","animationDelay","timeoutResult","calculateAnimationTimeout","unhandledProps","useUnhandledProps","handledProps","nodeRef","useRef","mergedRef","useMergedRefs","_isNil2","isChildrenFunction","child","childrenExist","Children","only","element","createElement","Transition","_extends2","in","onEnter","onEntering","onEntered","onExit","onExiting","onExited","cx","_ref","_props2","state","childWithClasses","classes","Ref","innerRef","cloneElement","exports","propTypes","assign","commonPropTypes","createCommon","accessibility","as","content","oneOfType","func","name","string","delay","direction","duration","fillMode","iterationCount","keyframeParams","object","playState","timingFunction","bool","number","shape","enter","exit","keys"],"sources":["components/Animation/Animation.tsx"],"sourcesContent":["import {\n  useUnhandledProps,\n  unstable_calculateAnimationTimeout as calculateAnimationTimeout,\n  useFluentContext,\n  useTelemetry,\n  useMergedRefs,\n  ForwardRefComponent,\n} from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport cx from 'classnames';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { Transition } from 'react-transition-group';\n\nimport { childrenExist, commonPropTypes, ChildrenComponentProps } from '../../utils';\nimport { ComponentEventHandler } from '../../types';\nimport { useAnimationStyles } from './useAnimationStyles';\n\nexport type AnimationChildrenProp = (props: {\n  classes: string;\n  state: 'unmounted' | 'exited' | 'entering' | 'entered' | 'exiting';\n}) => React.ReactNode;\n\nexport interface AnimationProps extends ChildrenComponentProps<AnimationChildrenProp | React.ReactChild> {\n  /** Additional CSS class name(s) to apply.  */\n  className?: string;\n\n  /** The name for the animation that should be applied, defined in the theme. */\n  name?: string;\n\n  /** Specifies a delay for the start of an animation. Negative values are\n   * also allowed. If using negative values, the animation will start as if it had already been\n   * playing for that amount of time.\n   */\n  delay?: string;\n\n  /** Specifies whether an animation should be played forwards, backwards or in alternate cycles.\n   * It can have the following values:\n   * - normal (default) - The animation is played as normal (forwards)\n   * - reverse - The animation is played in reverse direction (backwards)\n   * - alternate - The animation is played forwards first, then backwards\n   * - alternate-reverse - The animation is played backwards first, then forwards\n   */\n  direction?: string;\n\n  /** Specifies how long an animation should take to complete. */\n  duration?: string;\n\n  /**\n   * Specifies a style for the target element when the animation is not playing (i.e. before it starts, after it ends, or both).\n   * It can have the following values:\n   * - none (default) - Animation will not apply any styles to the element before or after it is executing\n   * - forwards - The element will retain the style values that is set by the last keyframe (depends on animation-direction and animation-iteration-count)\n   * - backwards - The element will get the style values that is set by the first keyframe (depends on animation-direction), and retain this during the animation-delay period\n   * - both - The animation will follow the rules for both forwards and backwards, extending the animation properties in both directions\n   * */\n  fillMode?: string;\n\n  /** Specifies the number of times an animation should run. */\n  iterationCount?: string;\n\n  /** Custom parameters for the keyframe defined for the animation. */\n  keyframeParams?: object;\n\n  /**\n   * Specifies whether the animation is running or paused. It can have the following values:\n   * - paused - Specifies that the animation is paused\n   * - running - Default value. Specifies that the animation is running\n   * - initial - Sets this property to its default value.\n   * - inherit - Inherits this property from its parent element.\n   * */\n  playState?: string;\n\n  /**\n   * Specifies the speed curve of the animation. It can have the following values:\n   * - ease - Specifies an animation with a slow start, then fast, then end slowly (this is default)\n   * - linear - Specifies an animation with the same speed from start to end\n   * - ease-in - Specifies an animation with a slow start\n   * - ease-out - Specifies an animation with a slow end\n   * - ease-in-out - Specifies an animation with a slow start and end\n   * - cubic-bezier(n,n,n,n) - Lets you define your own values in a cubic-bezier function\n   */\n  timingFunction?: string;\n\n  /** Show the component; triggers the enter or exit animation. */\n  visible?: boolean;\n\n  /** Run the enter animation when the component mounts, if it is initially shown. */\n  appear?: boolean;\n\n  /** Wait until the first \"enter\" transition to mount the component (add it to the DOM). */\n  mountOnEnter?: boolean;\n\n  /** Unmount the component (remove it from the DOM) when it is not shown. */\n  unmountOnExit?: boolean;\n\n  /** The duration of the transition, in milliseconds. */\n  timeout?: number | { enter?: number; exit?: number; appear?: number };\n\n  /**\n   * Callback fired before the \"entering\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEnter?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"entering\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEntering?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"entered\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onEntered?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExit?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExiting?: ComponentEventHandler<AnimationProps>;\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onExited?: ComponentEventHandler<AnimationProps>;\n}\n\n/**\n * An Animation provides animation effects to rendered elements.\n */\nexport const Animation = React.forwardRef<HTMLDivElement, AnimationProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Animation.displayName, context.telemetry);\n  setStart();\n\n  const { appear, children, className, mountOnEnter, timeout, visible, unmountOnExit } = props;\n\n  const handleAnimationEvent =\n    (event: 'onEnter' | 'onEntering' | 'onEntered' | 'onExit' | 'onExiting' | 'onExited') => () => {\n      _.invoke(props, event, null, props);\n    };\n\n  const {\n    className: animationClasses,\n    animationDuration,\n    animationDelay,\n  } = useAnimationStyles(Animation.displayName, props);\n  const timeoutResult = timeout || calculateAnimationTimeout(animationDuration, animationDelay) || 0;\n\n  const unhandledProps = useUnhandledProps(Animation.handledProps, props);\n\n  const nodeRef = React.useRef();\n  const mergedRef = useMergedRefs(ref, nodeRef);\n\n  if (_.isNil(children)) {\n    setEnd();\n    return null;\n  }\n\n  const isChildrenFunction = typeof children === 'function';\n  const child = childrenExist(children) && !isChildrenFunction && (React.Children.only(children) as React.ReactElement);\n\n  const element = (\n    <Transition\n      nodeRef={nodeRef}\n      in={visible}\n      appear={appear}\n      mountOnEnter={mountOnEnter}\n      unmountOnExit={unmountOnExit}\n      timeout={timeoutResult}\n      onEnter={handleAnimationEvent('onEnter')}\n      onEntering={handleAnimationEvent('onEntering')}\n      onEntered={handleAnimationEvent('onEntered')}\n      onExit={handleAnimationEvent('onExit')}\n      onExiting={handleAnimationEvent('onExiting')}\n      onExited={handleAnimationEvent('onExited')}\n      {...unhandledProps}\n      className={!isChildrenFunction ? cx(animationClasses, className, (child as any)?.props?.className) : ''}\n    >\n      {isChildrenFunction ? (\n        // @ts-ignore - @types/react-transition-group doesn't actually include this API, nor is it documented\n        ({ state }) => {\n          const childWithClasses = (children as AnimationChildrenProp)({\n            classes: cx(animationClasses, className, (child as any)?.props?.className),\n            state,\n          }) as React.ReactElement;\n          return childWithClasses ? <Ref innerRef={mergedRef}>{childWithClasses}</Ref> : childWithClasses;\n        }\n      ) : (\n        <Ref innerRef={mergedRef}>\n          {React.cloneElement(child, { className: cx(animationClasses, className, (child as any)?.props?.className) })}\n        </Ref>\n      )}\n    </Transition>\n  );\n  setEnd();\n\n  return element;\n}) as ForwardRefComponent<AnimationProps>;\n\nAnimation.displayName = 'Animation';\n\nAnimation.propTypes = {\n  ...commonPropTypes.createCommon({\n    accessibility: false,\n    as: false,\n    content: false,\n    children: false,\n  }),\n  children: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n  name: PropTypes.string,\n  delay: PropTypes.string,\n  direction: PropTypes.string,\n  duration: PropTypes.string,\n  fillMode: PropTypes.string,\n  iterationCount: PropTypes.string,\n  keyframeParams: PropTypes.object,\n  playState: PropTypes.string,\n  timingFunction: PropTypes.string,\n  visible: PropTypes.bool,\n  appear: PropTypes.bool,\n  mountOnEnter: PropTypes.bool,\n  unmountOnExit: PropTypes.bool,\n  timeout: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.shape({\n      appear: PropTypes.number,\n      enter: PropTypes.number,\n      exit: PropTypes.number,\n    }),\n  ]),\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func,\n};\nAnimation.handledProps = Object.keys(Animation.propTypes) as any;\n"],"mappings":"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"}