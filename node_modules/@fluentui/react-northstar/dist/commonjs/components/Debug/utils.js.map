{"version":3,"file":"utils.js","names":["includes","source","target","_toLower2","default","indexOf","exports","find","data","key","search","value","_isNil2","isOverridden","overrides","undefined","filterR","result","Object","keys","forEach","filter","reduce","obj","getValues","predicate","arr","_concat2","removeNulls","o","k","val","length"],"sources":["components/Debug/utils.ts"],"sourcesContent":["import * as _ from 'lodash';\n\n/**\n * Check whether source includes target ignoring case.\n */\nexport const includes = (source: string, target: string): boolean =>\n  _.toLower(source).indexOf(_.toLower(target)) !== -1;\n\n/**\n * Checks whether the key or the value of data[key] contains the search string.\n */\nexport const find = (data: object, key: string, search: string): boolean => {\n  const value = data[key];\n  return (\n    search !== '' &&\n    (includes(key, search) || (typeof value !== 'object' && !_.isNil(value) && includes(value, search)))\n  );\n};\n\n/**\n * Checks if the data[key] is primitive and override in the overrides object.\n */\nexport const isOverridden = (data: object, key: string, overrides: object): boolean => {\n  return typeof data[key] !== 'object' && !!overrides && overrides[key] !== null && overrides[key] !== undefined;\n};\n\n/**\n * Helper recursive function for the filter method.\n */\nconst filterR = (search: string, data: object): boolean => {\n  let result = false;\n\n  Object.keys(data).forEach(key => {\n    const value = data[key];\n\n    if (find(data, key, search)) {\n      result = true;\n    }\n\n    // If the value is object invoke again\n    if (typeof value === 'object' && filterR(search, value)) {\n      result = true;\n    }\n  });\n\n  return result;\n};\n\n/**\n * Filters the data for the value string (if it appears in the key or value). Considers nested objects.\n */\nexport const filter = (data: object, value: string) => {\n  return Object.keys(data)\n    .filter(key => {\n      if (find(data, key, value)) {\n        return true;\n      }\n\n      // if the value is object invoke again\n      if (typeof data[key] === 'object' && data[key] !== null) {\n        return filterR(value, data[key]);\n      }\n\n      return false;\n    })\n    .reduce((obj, key) => {\n      obj[key] = data[key];\n      return obj;\n    }, {});\n};\n\n/**\n * Returns array of values that matches the predicate. Considers nested objects.\n */\nexport const getValues = (value: any, predicate: (str: string) => boolean): string[] => {\n  if (_.isNil(value)) {\n    return [];\n  }\n\n  if (typeof value === 'string') {\n    if (predicate(value)) {\n      return [value];\n    }\n  }\n\n  if (typeof value === 'object') {\n    let arr: string[] = [];\n    Object.keys(value).forEach(key => {\n      arr = _.concat(arr, getValues(value[key], predicate));\n    });\n    return arr;\n  }\n\n  return [];\n};\n\n/**\n * Removes null values from an object. Considers nested objects.\n */\nexport const removeNulls = (o: any): any => {\n  if (typeof o !== 'object' && o !== null) {\n    return o;\n  }\n  const result = {};\n\n  Object.keys(o).forEach(k => {\n    if (!o[k] || typeof o[k] !== 'object') {\n      if (o[k]) {\n        result[k] = o[k]; // If not null or not an object, copy value\n      }\n    } else {\n      // The property is an object\n      const val = removeNulls(o[k]);\n\n      if (typeof val === 'object' && val != null && Object.keys(val).length > 0) {\n        result[k] = val;\n      }\n    }\n  });\n\n  return result;\n};\n"],"mappings":"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"}