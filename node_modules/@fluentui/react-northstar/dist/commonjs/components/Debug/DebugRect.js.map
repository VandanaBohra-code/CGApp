{"version":3,"file":"DebugRect.js","names":["React","_interopRequireWildcard","require","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","cropMarkStyle","position","background","DebugRect","_React$Component","_inheritsLoose2","_this","_len","arguments","length","args","Array","_key","apply","concat","selectorRef","createRef","setDebugSelectorPosition","fiberNav","props","domNode","getBoundingClientRect","current","rect","style","top","left","width","height","requestAnimationFrame","_proto","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","render","_this$props","showBackground","showClassName","showCropMarks","showElement","renderLabel","label","createElement","ref","padding","margin","outline","outlineOffset","zIndex","pointerEvents","userSelect","bottom","color","fontWeight","Fragment","assign","right","fontSize","tagName","toLowerCase","hasAttribute","getAttribute","replace","Component","exports","defaultProps","name"],"sources":["components/Debug/DebugRect.tsx"],"sourcesContent":["import * as React from 'react';\nimport { FiberNavigator } from './FiberNavigator';\n\ninterface DebugRectProps {\n  showBackground?: boolean;\n  showClassName?: boolean;\n  showCropMarks?: boolean;\n  showElement?: boolean;\n  fiberNav: FiberNavigator;\n  renderLabel?: (fiberNav: FiberNavigator) => string;\n}\n\nconst cropMarkStyle: React.CSSProperties = {\n  position: 'absolute',\n  background: '#6495ed88',\n};\n\nexport class DebugRect extends React.Component<DebugRectProps> {\n  selectorRef = React.createRef<HTMLPreElement>();\n\n  static defaultProps = {\n    showBackground: true,\n    showClassName: true,\n    showElement: true,\n    renderLabel: fiberNav => `<${fiberNav.name} />`,\n  };\n\n  componentDidMount() {\n    this.setDebugSelectorPosition();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.setDebugSelectorPosition();\n  }\n\n  setDebugSelectorPosition = () => {\n    const { fiberNav } = this.props;\n\n    if (\n      fiberNav &&\n      fiberNav.domNode &&\n      fiberNav.domNode.getBoundingClientRect &&\n      typeof fiberNav.domNode.getBoundingClientRect === 'function' &&\n      this.selectorRef.current\n    ) {\n      const rect = fiberNav.domNode.getBoundingClientRect();\n\n      this.selectorRef.current.style.top = `${rect.top}px`;\n      this.selectorRef.current.style.left = `${rect.left}px`;\n      this.selectorRef.current.style.width = `${rect.width}px`;\n      this.selectorRef.current.style.height = `${rect.height}px`;\n\n      requestAnimationFrame(this.setDebugSelectorPosition);\n    }\n  };\n\n  render() {\n    const { fiberNav, showBackground, showClassName, showCropMarks, showElement, renderLabel } = this.props;\n\n    if (!fiberNav) {\n      return null;\n    }\n\n    const label = renderLabel(fiberNav);\n\n    return (\n      <pre\n        ref={this.selectorRef}\n        style={{\n          position: 'fixed',\n          padding: 0,\n          margin: 0,\n          background: showBackground ? '#6495ed11' : 'none',\n          outline: '2px solid #6495edcc',\n          outlineOffset: '-1px',\n          zIndex: 99999999,\n          pointerEvents: 'none',\n          userSelect: 'none',\n        }}\n      >\n        {label && (\n          <div\n            style={{\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '-1px 0 0 -1px',\n              bottom: '100%',\n              left: 0,\n              color: '#fff',\n              background: '#6495ed',\n              zIndex: 1, // above crop marks\n            }}\n          >\n            <span style={{ fontWeight: 'bold' }}>{renderLabel(fiberNav)}</span>\n          </div>\n        )}\n        {showCropMarks && (\n          <>\n            {/* Top Left */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                top: '0',\n                left: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                top: '-20px',\n                left: '0',\n              }}\n            />\n\n            {/* Top Right */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                top: '0',\n                right: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                top: '-20px',\n                right: '0',\n              }}\n            />\n\n            {/* Bottom Left */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                bottom: '0',\n                left: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                bottom: '-20px',\n                left: '0',\n              }}\n            />\n\n            {/* Bottom Right */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                bottom: '0',\n                right: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                bottom: '-20px',\n                right: '0',\n              }}\n            />\n          </>\n        )}\n        {fiberNav.domNode && (showElement || showClassName) && (\n          <div\n            style={{\n              fontSize: '0.9em',\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '0 0 1px -1px',\n              top: '100%',\n              left: 0,\n              background: '#6495ed',\n            }}\n          >\n            {showElement && (\n              <strong style={{ fontWeight: 'bold', color: 'hsl(160, 100%, 80%)' }}>\n                {fiberNav.domNode.tagName && fiberNav.domNode.tagName.toLowerCase()}\n              </strong>\n            )}\n            {showClassName &&\n              fiberNav.domNode.hasAttribute &&\n              typeof fiberNav.domNode.hasAttribute === 'function' &&\n              fiberNav.domNode.hasAttribute('class') && (\n                <span style={{ color: 'rgba(255, 255, 255, 0.75)' }}>\n                  .{(fiberNav.domNode.getAttribute('class') || '').replace(/ +/g, '.')}\n                </span>\n              )}\n          </div>\n        )}\n      </pre>\n    );\n  }\n}\n"],"mappings":"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"}