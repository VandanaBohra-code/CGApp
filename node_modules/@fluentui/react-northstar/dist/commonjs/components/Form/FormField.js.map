{"version":3,"file":"FormField.js","names":["_accessibility","require","customPropTypes","_interopRequireWildcard","PropTypes","React","_utils","_Text","_Input","_Box","_reactBindings","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","formFieldClassName","exports","formFieldMessageClassName","FormField","forwardRef","props","ref","context","useFluentContext","_useTelemetry","useTelemetry","displayName","telemetry","setStart","setEnd","children","control","id","label","message","name","required","type","className","design","styles","variables","inline","errorMessage","ElementType","getElementType","unhandledProps","useUnhandledProps","handledProps","messageId","useRef","current","getOrGenerateIdFromShorthand","labelId","getA11yProps","useAccessibility","accessibility","debugName","mapPropsToBehavior","hasErrorMessage","rtl","_useStyles","useStyles","mapPropsToStyles","mapPropsToInlineStyles","classes","resolvedStyles","labelElement","Text","create","defaultProps","as","htmlFor","messageElement","controlElement","Box","error","shouldControlAppearFirst","content","createElement","Fragment","element","assign","root","childrenExist","propTypes","commonPropTypes","createCommon","shorthandAllowingChildren","string","bool","itemShorthand","keys","formFieldBehavior","Input","createShorthandFactory","Component","mappedProp"],"sources":["components/Form/FormField.tsx"],"sourcesContent":["import { Accessibility, FormFieldBehaviorProps, formFieldBehavior } from '@fluentui/accessibility';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport {\n  childrenExist,\n  createShorthandFactory,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  getOrGenerateIdFromShorthand,\n} from '../../utils';\nimport { ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport { Text, TextProps } from '../Text/Text';\nimport { Input } from '../Input/Input';\nimport { Box, BoxProps } from '../Box/Box';\nimport {\n  getElementType,\n  useUnhandledProps,\n  useFluentContext,\n  useTelemetry,\n  useStyles,\n  useAccessibility,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nexport interface FormFieldProps extends UIComponentProps, ChildrenComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<FormFieldBehaviorProps>;\n\n  /**\n   * @deprecated\n   * A control for the form field.\n   */\n  control?: ShorthandValue<BoxProps>;\n\n  /** The HTML input id. This will be set on the control element and will be use for linking it with the label for correct accessibility. */\n  id?: string;\n\n  /** A field can have its label next to instead of above it. */\n  inline?: boolean;\n\n  /** A label for the form field. */\n  label?: ShorthandValue<TextProps>;\n\n  /** Text message that will be displayed below the control (can be used for error, warning, success messages). */\n  message?: ShorthandValue<TextProps>;\n\n  /** The HTML input name. */\n  name?: string;\n\n  /** A field can show that input is mandatory. */\n  required?: boolean;\n\n  /** The HTML input type. */\n  type?: string;\n\n  /** Message to be shown when input has error */\n  errorMessage?: ShorthandValue<TextProps>;\n}\n\nexport const formFieldClassName = 'ui-form__field';\nexport const formFieldMessageClassName = 'ui-form__field__message';\n\nexport type FormFieldStylesProps = Required<Pick<FormFieldProps, 'type' | 'inline' | 'required'>> & {\n  hasErrorMessage: boolean;\n};\n\n/**\n * A FormField represents a Form element containing a label and an input.\n */\nexport const FormField = React.forwardRef<HTMLDivElement, FormFieldProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(FormField.displayName, context.telemetry);\n  setStart();\n\n  const {\n    children,\n    control,\n    id,\n    label,\n    message,\n    name,\n    required,\n    type,\n    className,\n    design,\n    styles,\n    variables,\n    inline,\n    errorMessage,\n  } = props;\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(FormField.handledProps, props);\n  const messageId = React.useRef<string>();\n  messageId.current = getOrGenerateIdFromShorthand('error-message-', message || errorMessage, messageId.current);\n  const labelId = React.useRef<string>();\n  labelId.current = getOrGenerateIdFromShorthand('form-label-', id, labelId.current);\n\n  const getA11yProps = useAccessibility<FormFieldBehaviorProps>(props.accessibility, {\n    debugName: FormField.displayName,\n    mapPropsToBehavior: () => ({\n      hasErrorMessage: !!errorMessage,\n      messageId: messageId.current,\n      labelId: labelId.current,\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes, styles: resolvedStyles } = useStyles<FormFieldStylesProps>(FormField.displayName, {\n    className: formFieldClassName,\n    mapPropsToStyles: () => ({\n      type,\n      inline,\n      required,\n      hasErrorMessage: !!errorMessage,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const labelElement = Text.create(label, {\n    defaultProps: () =>\n      getA11yProps('label', {\n        as: 'label',\n        htmlFor: id,\n        id: labelId.current,\n        styles: resolvedStyles.label,\n      }),\n  });\n\n  const messageElement = Text.create(errorMessage || message, {\n    defaultProps: () =>\n      getA11yProps('message', {\n        className: formFieldMessageClassName,\n        id: messageId.current,\n        styles: resolvedStyles.message,\n      }),\n  });\n\n  const controlElement = Box.create(control || {}, {\n    defaultProps: () =>\n      getA11yProps('control', {\n        required,\n        name,\n        id,\n        type,\n        error: !!errorMessage || null,\n        styles: resolvedStyles.control,\n      }),\n  });\n\n  const shouldControlAppearFirst = () => {\n    return type && (type === 'checkbox' || type === 'radio');\n  };\n\n  const content = (\n    <>\n      {shouldControlAppearFirst() && controlElement}\n      {labelElement}\n      {!shouldControlAppearFirst() && controlElement}\n      {messageElement}\n    </>\n  );\n\n  const element = (\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        ref,\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children) ? children : content}\n    </ElementType>\n  );\n  setEnd();\n  return element;\n}) as unknown as ForwardRefWithAs<'div', HTMLDivElement, FormFieldProps> & FluentComponentStaticProps<FormFieldProps>;\n\nFormField.displayName = 'FormField';\n\nFormField.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  control: customPropTypes.shorthandAllowingChildren,\n  id: PropTypes.string,\n  inline: PropTypes.bool,\n  label: customPropTypes.itemShorthand,\n  message: customPropTypes.itemShorthand,\n  name: PropTypes.string,\n  required: PropTypes.bool,\n  type: PropTypes.string,\n  errorMessage: customPropTypes.shorthandAllowingChildren,\n};\n\nFormField.handledProps = Object.keys(FormField.propTypes) as any;\n\nFormField.defaultProps = {\n  accessibility: formFieldBehavior,\n  control: { as: Input },\n};\n\nFormField.create = createShorthandFactory({ Component: FormField, mappedProp: 'label' });\n"],"mappings":"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"}