{"version":3,"file":"RadioGroupItem.js","names":["_accessibility","require","_reactComponentRef","customPropTypes","_interopRequireWildcard","React","PropTypes","_utils","_Box","_reactBindings","_reactIconsNorthstar","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","radioGroupItemClassName","exports","radioGroupItemSlotClassNames","indicator","label","RadioGroupItem","forwardRef","props","ref","context","useFluentContext","_useTelemetry","useTelemetry","displayName","telemetry","setStart","setEnd","checkedIndicator","disabled","vertical","className","design","styles","variables","shouldFocus","elementRef","useRef","ElementType","getElementType","unhandledProps","useUnhandledProps","handledProps","_useAutoControlled","useAutoControlled","defaultValue","defaultChecked","value","checked","initialValue","setChecked","prevChecked","handleClick","e","_invoke2","useEffect","current","undefined","assign","focus","_useStyles","useStyles","mapPropsToStyles","mapPropsToInlineStyles","rtl","classes","resolvedStyles","getA11yProps","useAccessibility","accessibility","debugName","actionHandlers","performClick","shouldPreventDefaultOnKeyDown","preventDefault","mapPropsToBehavior","handleChange","element","unstable_wrapWithFocusZone","createElement","Ref","innerRef","root","onClick","onChange","Box","create","defaultProps","as","propTypes","commonPropTypes","createCommon","content","bool","shorthandAllowingChildren","itemShorthand","name","string","func","oneOfType","number","radioGroupItemBehavior","RadioButtonIcon","outline","keys","createShorthandFactory","Component","mappedProp"],"sources":["components/RadioGroup/RadioGroupItem.tsx"],"sourcesContent":["import { Accessibility, radioGroupItemBehavior, RadioGroupItemBehaviorProps } from '@fluentui/accessibility';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as _ from 'lodash';\nimport {\n  createShorthandFactory,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  shouldPreventDefaultOnKeyDown,\n} from '../../utils';\nimport { Box, BoxProps } from '../Box/Box';\nimport { ComponentEventHandler, ShorthandValue, FluentComponentStaticProps } from '../../types';\nimport {\n  useAutoControlled,\n  getElementType,\n  useAccessibility,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport { RadioButtonIcon } from '@fluentui/react-icons-northstar';\n\nexport interface RadioGroupItemSlotClassNames {\n  indicator: string;\n  label: string;\n}\n\nexport interface RadioGroupItemProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<RadioGroupItemBehaviorProps>;\n\n  /** Whether or not radio item is checked. */\n  checked?: boolean;\n\n  /**\n   * Called after radio item checked state is changed.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onChange?: ComponentEventHandler<RadioGroupItemProps>;\n\n  /** The label of the radio item. */\n  label?: ShorthandValue<BoxProps>;\n\n  /** Initial checked value. */\n  defaultChecked?: boolean;\n\n  /** A radio item can appear disabled and be unable to change states. */\n  disabled?: boolean;\n\n  /** The radio item indicator can be customized. */\n  indicator?: ShorthandValue<BoxProps>;\n\n  /** The checked radio item indicator can be customized. */\n  checkedIndicator?: ShorthandValue<BoxProps>;\n\n  /** The HTML input name. */\n  name?: string;\n\n  /**\n   * Called after radio item is clicked.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<RadioGroupItemProps>;\n\n  /** Whether should focus when checked */\n  shouldFocus?: boolean; // TODO: RFC #306\n\n  /** The HTML input value. */\n  value?: string | number;\n\n  /** A vertical radio group displays elements vertically. */\n  vertical?: boolean;\n}\n\nexport const radioGroupItemClassName = 'ui-radiogroup__item';\nexport const radioGroupItemSlotClassNames: RadioGroupItemSlotClassNames = {\n  indicator: `${radioGroupItemClassName}__indicator`,\n  label: `${radioGroupItemClassName}__label`,\n};\n\nexport type RadioGroupItemStylesProps = Required<Pick<RadioGroupItemProps, 'disabled' | 'vertical' | 'checked'>>;\n\n/**\n * A RadioGroupItem represents single input element within a RadioGroup.\n *\n * @accessibility\n * Radio items need to be grouped to correctly handle accessibility.\n */\nexport const RadioGroupItem = React.forwardRef<HTMLDivElement, RadioGroupItemProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(RadioGroupItem.displayName, context.telemetry);\n  setStart();\n  const { label, checkedIndicator, indicator, disabled, vertical, className, design, styles, variables, shouldFocus } =\n    props;\n  const elementRef = React.useRef<HTMLElement>();\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(RadioGroupItem.handledProps, props);\n\n  const [checked, setChecked] = useAutoControlled({\n    defaultValue: props.defaultChecked,\n    value: props.checked,\n    initialValue: false,\n  });\n\n  const prevChecked = React.useRef<boolean>(checked);\n\n  const handleClick = (e: React.MouseEvent | React.KeyboardEvent) => {\n    _.invoke(props, 'onClick', e, props);\n    setChecked(prevChecked => {\n      return !prevChecked;\n    });\n  };\n\n  // This behavior is not conformant with native input radio, it was added to avoid breaking change\n  // and it should be fixed to be conformant with native, only calling onChange when item is clicked (checked will always be true)\n  React.useEffect(() => {\n    if (prevChecked.current !== checked) {\n      _.invoke(props, 'onChange', undefined, { ...props, checked });\n      prevChecked.current = checked;\n    }\n  });\n\n  React.useEffect(() => {\n    if (checked && shouldFocus) elementRef.current.focus();\n  }, [checked, shouldFocus]);\n\n  const { classes, styles: resolvedStyles } = useStyles<RadioGroupItemStylesProps>(RadioGroupItem.displayName, {\n    className: radioGroupItemClassName,\n    mapPropsToStyles: () => ({\n      vertical,\n      disabled,\n      checked,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const getA11yProps = useAccessibility<RadioGroupItemBehaviorProps>(props.accessibility, {\n    debugName: RadioGroupItem.displayName,\n    actionHandlers: {\n      performClick: e => {\n        if (shouldPreventDefaultOnKeyDown(e)) {\n          e.preventDefault();\n        }\n        handleClick(e);\n      },\n    },\n    mapPropsToBehavior: () => ({\n      checked,\n      disabled,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleChange = (e: React.ChangeEvent) => {\n    // RadioGroupItem component doesn't present any `input` component in markup, however all of our\n    // components should handle events transparently.\n    _.invoke(props, 'onChange', e, { ...props, checked });\n  };\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <Ref innerRef={elementRef}>\n      <ElementType\n        {...getA11yProps('root', {\n          className: classes.root,\n          onClick: handleClick,\n          onChange: handleChange,\n          ref,\n          ...unhandledProps,\n        })}\n      >\n        {Box.create(checked ? checkedIndicator : indicator, {\n          defaultProps: () => ({\n            className: radioGroupItemSlotClassNames.indicator,\n            styles: resolvedStyles.indicator,\n          }),\n        })}\n        {Box.create(label, {\n          defaultProps: () => ({\n            as: 'span',\n            className: radioGroupItemSlotClassNames.label,\n            styles: resolvedStyles.label,\n          }),\n        })}\n      </ElementType>\n    </Ref>,\n  );\n  setEnd();\n  return element;\n}) as unknown as ForwardRefWithAs<'div', HTMLDivElement, RadioGroupItemProps> &\n  FluentComponentStaticProps<RadioGroupItemProps>;\n\nRadioGroupItem.displayName = 'RadioGroupItem';\n\nRadioGroupItem.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  checked: PropTypes.bool,\n  defaultChecked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  indicator: customPropTypes.shorthandAllowingChildren,\n  checkedIndicator: customPropTypes.shorthandAllowingChildren,\n  label: customPropTypes.itemShorthand,\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  onChange: PropTypes.func,\n  shouldFocus: PropTypes.bool,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  vertical: PropTypes.bool,\n};\n\nRadioGroupItem.defaultProps = {\n  accessibility: radioGroupItemBehavior,\n  indicator: <RadioButtonIcon outline />,\n  checkedIndicator: <RadioButtonIcon />,\n};\n\nRadioGroupItem.handledProps = Object.keys(RadioGroupItem.propTypes) as any;\n\nRadioGroupItem.create = createShorthandFactory({ Component: RadioGroupItem, mappedProp: 'label' });\n"],"mappings":"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"}