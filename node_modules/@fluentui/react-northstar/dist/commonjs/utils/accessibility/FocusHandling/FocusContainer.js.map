{"version":3,"file":"FocusContainer.js","names":["ContainerFocusHandler","getItemsCount","setFocusAt","circular","_this","focusedIndex","noItems","_proto","prototype","constrainFocusedIndex","itemsCount","getFocusedIndex","syncFocusedIndex","withCurrentIndex","movePrevious","moveNext","moveFirst","moveLast","exports"],"sources":["utils/accessibility/FocusHandling/FocusContainer.ts"],"sourcesContent":["export class ContainerFocusHandler {\n  private focusedIndex = 0;\n\n  constructor(\n    private getItemsCount: () => number,\n    private readonly setFocusAt: (number) => void,\n    private circular = false,\n  ) {}\n\n  private noItems = (): boolean => this.getItemsCount() === 0;\n\n  private constrainFocusedIndex(): void {\n    const itemsCount = this.getItemsCount();\n    if (this.focusedIndex < 0) {\n      this.focusedIndex = this.circular ? itemsCount - 1 : 0;\n    }\n\n    if (this.focusedIndex >= itemsCount) {\n      this.focusedIndex = this.circular ? 0 : itemsCount - 1;\n    }\n  }\n\n  public getFocusedIndex(): number {\n    return this.focusedIndex;\n  }\n\n  public syncFocusedIndex(withCurrentIndex: number) {\n    this.focusedIndex = withCurrentIndex;\n  }\n\n  public movePrevious(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex -= 1;\n    this.constrainFocusedIndex();\n\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveNext(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex += 1;\n    this.constrainFocusedIndex();\n\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveFirst(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex = 0;\n    this.setFocusAt(this.focusedIndex);\n  }\n\n  public moveLast(): void {\n    if (this.noItems()) {\n      return;\n    }\n\n    this.focusedIndex = this.getItemsCount() - 1;\n    this.setFocusAt(this.focusedIndex);\n  }\n}\n"],"mappings":";;;;IAAaA,qBAAqB;EAGhC,SAAAA,sBACUC,aAA2B,EAClBC,UAA4B,EACrCC,QAAQ,EAChB;IAAA,IAAAC,KAAA;IAAA,IADQD,QAAQ;MAARA,QAAQ,GAAG,KAAK;IAAA;IAAA,KAFhBF,aAA2B,GAA3BA,aAA2B;IAAA,KAClBC,UAA4B,GAA5BA,UAA4B;IAAA,KACrCC,QAAQ,GAARA,QAAQ;IAAA,KALVE,YAAY,GAAG,CAAC;IAAA,KAQhBC,OAAO,GAAG;MAAA,OAAeF,KAAI,CAACH,aAAa,CAAC,CAAC,KAAK,CAAC;IAAA;EAFxD;EAAC,IAAAM,MAAA,GAAAP,qBAAA,CAAAQ,SAAA;EAAAD,MAAA,CAIIE,qBAAqB,GAA7B,SAAAA,sBAAA,EAAsC;IACpC,IAAMC,UAAU,GAAG,IAAI,CAACT,aAAa,CAAC,CAAC;IACvC,IAAI,IAAI,CAACI,YAAY,GAAG,CAAC,EAAE;MACzB,IAAI,CAACA,YAAY,GAAG,IAAI,CAACF,QAAQ,GAAGO,UAAU,GAAG,CAAC,GAAG,CAAC;IACxD;IAEA,IAAI,IAAI,CAACL,YAAY,IAAIK,UAAU,EAAE;MACnC,IAAI,CAACL,YAAY,GAAG,IAAI,CAACF,QAAQ,GAAG,CAAC,GAAGO,UAAU,GAAG,CAAC;IACxD;EACF,CAAC;EAAAH,MAAA,CAEMI,eAAe,GAAtB,SAAAA,gBAAA,EAAiC;IAC/B,OAAO,IAAI,CAACN,YAAY;EAC1B,CAAC;EAAAE,MAAA,CAEMK,gBAAgB,GAAvB,SAAAA,iBAAwBC,gBAAwB,EAAE;IAChD,IAAI,CAACR,YAAY,GAAGQ,gBAAgB;EACtC,CAAC;EAAAN,MAAA,CAEMO,YAAY,GAAnB,SAAAA,aAAA,EAA4B;IAC1B,IAAI,IAAI,CAACR,OAAO,CAAC,CAAC,EAAE;MAClB;IACF;IAEA,IAAI,CAACD,YAAY,IAAI,CAAC;IACtB,IAAI,CAACI,qBAAqB,CAAC,CAAC;IAE5B,IAAI,CAACP,UAAU,CAAC,IAAI,CAACG,YAAY,CAAC;EACpC,CAAC;EAAAE,MAAA,CAEMQ,QAAQ,GAAf,SAAAA,SAAA,EAAwB;IACtB,IAAI,IAAI,CAACT,OAAO,CAAC,CAAC,EAAE;MAClB;IACF;IAEA,IAAI,CAACD,YAAY,IAAI,CAAC;IACtB,IAAI,CAACI,qBAAqB,CAAC,CAAC;IAE5B,IAAI,CAACP,UAAU,CAAC,IAAI,CAACG,YAAY,CAAC;EACpC,CAAC;EAAAE,MAAA,CAEMS,SAAS,GAAhB,SAAAA,UAAA,EAAyB;IACvB,IAAI,IAAI,CAACV,OAAO,CAAC,CAAC,EAAE;MAClB;IACF;IAEA,IAAI,CAACD,YAAY,GAAG,CAAC;IACrB,IAAI,CAACH,UAAU,CAAC,IAAI,CAACG,YAAY,CAAC;EACpC,CAAC;EAAAE,MAAA,CAEMU,QAAQ,GAAf,SAAAA,SAAA,EAAwB;IACtB,IAAI,IAAI,CAACX,OAAO,CAAC,CAAC,EAAE;MAClB;IACF;IAEA,IAAI,CAACD,YAAY,GAAG,IAAI,CAACJ,aAAa,CAAC,CAAC,GAAG,CAAC;IAC5C,IAAI,CAACC,UAAU,CAAC,IAAI,CAACG,YAAY,CAAC;EACpC,CAAC;EAAA,OAAAL,qBAAA;AAAA;AAAAkB,OAAA,CAAAlB,qBAAA,GAAAA,qBAAA"}