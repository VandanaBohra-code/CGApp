{"version":3,"file":"chatMessageStyles.js","names":["_chatDensity","require","_ChatMessage","_utils","_getBorderFocusStyles","_chatMessageStylesComfy","_chatMessageStylesCompact","_chatMessageStylesComfyRefresh","displayActionMenu","overlayZIndex","zIndex","overflow","opacity","width","chatMessageDensityStyles","comfy","chatMessageStylesComfy","compact","chatMessageStylesCompact","getChatMessageVariantStyles","props","density","defaultChatDensity","layout","chatMessageStylesComfyRefresh","chatMessageStyles","root","componentStyleFunctionParam","_hover","_ref","_getChatMessageVarian","_getChatMessageVarian2","p","v","variables","siteVariables","theme","Object","assign","borderRadius","display","outline","position","wordBreak","wordWrap","getBorderFocusStyles","_isNil2","default","showActionMenu","hasActionMenu","chatMessageSlotClassNames","actionMenu","call","_getChatMessageVarian3","_getChatMessageVarian4","defaultShowActionMenu","focused","backgroundColor","border","borderColor","reactionGroupBorderColor","boxShadow","actionMenuBoxShadow","author","_getChatMessageVarian5","_getChatMessageVarian6","compactBody","_getChatMessageVarian7","_getChatMessageVarian8","timestamp","_getChatMessageVarian9","_getChatMessageVarian10","badge","_getChatMessageVarian11","_getChatMessageVarian12","hasMention","hasMentionNubbinColor","isImportantColor","badgeShadow","color","badgeTextColor","height","padding","pxToRem","body","_getChatMessageVarian13","_getChatMessageVarian14","bubble","_getChatMessageVarian15","_getChatMessageVarian16","bubbleInset","_getChatMessageVarian17","_getChatMessageVarian18","reactionGroup","_getChatMessageVarian19","_getChatMessageVarian20","exports"],"sources":["themes/teams/components/Chat/chatMessageStyles.ts"],"sourcesContent":["import { ComponentSlotStylesPrepared, ICSSInJSStyle } from '@fluentui/styles';\nimport { isNil } from 'lodash';\n\nimport { ChatDensity, defaultChatDensity } from '../../../../components/Chat/chatDensity';\nimport { chatMessageSlotClassNames, ChatMessageStylesProps } from '../../../../components/Chat/ChatMessage';\nimport { pxToRem } from '../../../../utils';\nimport { getBorderFocusStyles } from '../../getBorderFocusStyles';\nimport { chatMessageStylesComfy } from './chatMessageStylesComfy';\nimport { chatMessageStylesCompact } from './chatMessageStylesCompact';\nimport { chatMessageStylesComfyRefresh } from './chatMessageStylesComfyRefresh';\nimport { ChatMessageVariables } from './chatMessageVariables';\n\nconst displayActionMenu = (overlayZIndex: ICSSInJSStyle['zIndex']): ICSSInJSStyle => ({\n  // we need higher zIndex for the action menu in order to be displayed above the focus border of the chat message\n  zIndex: overlayZIndex,\n  overflow: 'visible',\n  // opacity should always be preferred over visibility in order to avoid accessibility bugs in\n  // JAWS behavior on Windows\n  opacity: 1,\n  width: 'auto',\n});\n\nconst chatMessageDensityStyles: Record<\n  ChatDensity,\n  ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables>\n> = {\n  comfy: chatMessageStylesComfy,\n  compact: chatMessageStylesCompact,\n};\n\nconst getChatMessageVariantStyles = (props: ChatMessageStylesProps) => {\n  const density = props.density || defaultChatDensity;\n  if (props.layout === 'refresh' && density === 'comfy') {\n    return chatMessageStylesComfyRefresh;\n  }\n  return chatMessageDensityStyles[density];\n};\n\nexport const chatMessageStyles: ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables> = {\n  root: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const {\n      props: p,\n      variables: v,\n      theme: { siteVariables },\n    } = componentStyleFunctionParam;\n\n    if (p.layout === 'refresh' && p.density === 'comfy') {\n      return chatMessageStylesComfyRefresh.root(componentStyleFunctionParam);\n    }\n    return {\n      borderRadius: v.borderRadius,\n      display: 'inline-block',\n      outline: 0,\n      position: 'relative',\n      wordBreak: 'break-word',\n      wordWrap: 'break-word',\n\n      ...getBorderFocusStyles({ borderRadius: 'inherit', variables: siteVariables }),\n\n      // ActionMenu's appearance can be controlled by the value of showActionMenu variable - in this\n      // case this variable will serve the single source of truth on whether actions menu should be shown.\n      // Otherwise, if the variable is not provided, the default appearance logic will be used for actions menu.\n      ...(isNil(v.showActionMenu) &&\n        p.hasActionMenu && {\n          ':hover': {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          },\n          ...(p.showActionMenu && {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          }),\n        }),\n\n      ...getChatMessageVariantStyles(p).root?.(componentStyleFunctionParam),\n    };\n  },\n\n  actionMenu: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    const defaultShowActionMenu = p.hasActionMenu && (p.focused || p.showActionMenu);\n    const showActionMenu = isNil(v.showActionMenu) ? defaultShowActionMenu : v.showActionMenu;\n\n    return {\n      backgroundColor: v.backgroundColor,\n      border: '1px solid',\n      borderColor: v.reactionGroupBorderColor,\n      borderRadius: v.borderRadius,\n      boxShadow: v.actionMenuBoxShadow,\n      '[data-popper-escaped]': { opacity: 0 },\n\n      zIndex: -1,\n      overflow: 'hidden',\n      opacity: 0,\n      width: 0,\n      ...(showActionMenu && displayActionMenu(v.overlayZIndex)),\n      ...getChatMessageVariantStyles(p).actionMenu?.(componentStyleFunctionParam),\n    };\n  },\n\n  author: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).author?.(componentStyleFunctionParam);\n  },\n\n  compactBody: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).compactBody?.(componentStyleFunctionParam);\n  },\n\n  timestamp: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      display: 'inline-block',\n      ...getChatMessageVariantStyles(p).timestamp?.(componentStyleFunctionParam),\n    };\n  },\n\n  badge: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      backgroundColor: v.hasMention ? v.hasMentionNubbinColor : v.isImportantColor,\n      borderRadius: '50%',\n      boxShadow: v.badgeShadow,\n      color: v.badgeTextColor,\n      height: 'auto',\n      padding: pxToRem(4),\n      width: 'auto',\n      zIndex: v.zIndex,\n      '& > :first-child': { display: 'inline-flex' },\n      ...getChatMessageVariantStyles(p).badge?.(componentStyleFunctionParam),\n    };\n  },\n\n  body: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).body?.(componentStyleFunctionParam),\n    };\n  },\n\n  bubble: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).bubble?.(componentStyleFunctionParam),\n    };\n  },\n\n  bubbleInset: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).bubbleInset?.(componentStyleFunctionParam),\n    };\n  },\n\n  reactionGroup: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).reactionGroup?.(componentStyleFunctionParam);\n  },\n};\n"],"mappings":"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"}