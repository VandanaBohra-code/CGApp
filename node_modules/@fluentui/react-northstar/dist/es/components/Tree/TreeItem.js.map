{"version":3,"file":"TreeItem.js","names":["treeItemBehavior","getElementType","useUnhandledProps","useAccessibility","useStyles","useTelemetry","useFluentContext","customPropTypes","PropTypes","React","handleRef","childrenExist","createShorthandFactory","commonPropTypes","rtlTextContainer","shouldPreventDefaultOnKeyDown","TreeTitle","TreeContext","treeItemClassName","TreeItem","forwardRef","props","ref","context","_useTelemetry","displayName","telemetry","setStart","setEnd","accessibility","children","className","contentRef","design","title","renderItemTitle","expanded","level","index","styles","variables","treeSize","selectionIndicator","selectable","id","parent","_React$useContext","useContext","getItemById","registerItemRef","toggleItemActive","focusItemById","expandSiblings","toggleItemSelect","getToFocusIDByFirstCharacter","_getItemById","selected","hasSubtree","childrenIds","getA11Props","actionHandlers","performClick","e","preventDefault","stopPropagation","_invoke","focusParent","handleFocusParent","collapse","expand","focusFirstChild","handleFocusFirstChild","handleSiblingsExpand","performSelection","handleSelection","debugName","mapPropsToBehavior","indeterminate","rtl","_useStyles","mapPropsToStyles","mapPropsToInlineStyles","unstyled","classes","handleTitleOverrides","predefinedProps","onClick","titleProps","handleClick","target","currentTarget","handleKeyDown","key","length","match","altKey","ctrlKey","metaKey","toFocusID","elementRef","useCallback","node","ElementType","unhandledProps","handledProps","element","createElement","Object","assign","root","onKeyDown","getAttributes","forElements","create","defaultProps","as","render","overrideProps","propTypes","createCommon","content","string","isRequired","number","items","collectionShorthand","onFocusFirstChild","func","onFocusParent","onTitleClick","onSiblingsExpand","bool","itemShorthand","shorthandAllowingChildren","keys","Component","mappedProp"],"sources":["components/Tree/TreeItem.tsx"],"sourcesContent":["import { Accessibility, treeItemBehavior, TreeItemBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n  useStyles,\n  useTelemetry,\n  useFluentContext,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { handleRef } from '@fluentui/react-component-ref';\nimport {\n  childrenExist,\n  createShorthandFactory,\n  commonPropTypes,\n  UIComponentProps,\n  ChildrenComponentProps,\n  rtlTextContainer,\n  shouldPreventDefaultOnKeyDown,\n} from '../../utils';\nimport {\n  ComponentEventHandler,\n  ShorthandRenderFunction,\n  ShorthandValue,\n  ShorthandCollection,\n  FluentComponentStaticProps,\n  ComponentKeyboardEventHandler,\n} from '../../types';\nimport { TreeTitle, TreeTitleProps } from './TreeTitle';\nimport { BoxProps } from '../Box/Box';\nimport { TreeContext } from './context';\n\nexport interface TreeItemProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<TreeItemBehaviorProps>;\n\n  /** Ref for the item DOM element. */\n  contentRef?: React.Ref<HTMLElement>;\n\n  /** Id needed to identify this item inside the Tree. */\n  id: string;\n\n  /** The index of the item among its siblings. Count starts at 1. */\n  index?: number;\n\n  /** Array of props for sub tree. */\n  items?: ShorthandCollection<TreeItemProps>;\n\n  /** Level of the tree/subtree that contains this item. */\n  level?: number;\n\n  /** Called when the item's first child is about to be focused. */\n  onFocusFirstChild?: ComponentEventHandler<TreeItemProps>;\n\n  /** Called when the item's parent is about to be focused. */\n  onFocusParent?: ComponentEventHandler<TreeItemProps>;\n\n  /** Called when a tree title is clicked. */\n  onTitleClick?: ComponentEventHandler<TreeItemProps>;\n\n  /**\n   * Called on click.\n   *\n   * @param {SyntheticEvent} event - React's original SyntheticEvent.\n   * @param {object} data - All props.\n   */\n  onClick?: ComponentEventHandler<TreeItemProps>;\n\n  /** Called when the item's siblings are about to be expanded. */\n  onSiblingsExpand?: ComponentEventHandler<TreeItemProps>;\n\n  /** Whether or not the item is in the expanded state. Only makes sense if item has children items. If set to true, item is initialy expanded. */\n  expanded?: boolean;\n\n  /** The id of the parent tree item, if any. */\n  parent?: string;\n\n  /**\n   * A custom render iterator for rendering each tree title.\n   * The default component, props, and children are available for each tree title.\n   *\n   * @param Component - The computed component for this slot.\n   * @param props - The computed props for this slot.\n   * @param children - The computed children for this slot.\n   */\n  renderItemTitle?: ShorthandRenderFunction<TreeTitleProps>;\n\n  /** Size of the tree/subtree that contains this item. */\n  treeSize?: number;\n\n  /** Properties for TreeTitle. */\n  title?: ShorthandValue<TreeTitleProps>;\n\n  /** Whether or not the item can be selectable. */\n  selectable?: boolean;\n\n  /** A selection indicator icon can be customized. */\n  selectionIndicator?: ShorthandValue<BoxProps>;\n\n  /**\n   * Called on item key down.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onKeyDown?: ComponentKeyboardEventHandler<TreeItemProps>;\n\n  unstyled?: boolean;\n}\n\nexport type TreeItemStylesProps = Required<Pick<TreeItemProps, 'level'>> & {\n  selectable?: boolean;\n};\nexport const treeItemClassName = 'ui-tree__item';\n\n/**\n * A TreeItem renders an item of a Tree.\n *\n * @accessibility\n * Implements [ARIA TreeView](https://www.w3.org/TR/wai-aria-practices-1.1/#TreeView) design pattern.\n */\nexport const TreeItem = React.forwardRef<HTMLDivElement, TreeItemProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(TreeItem.displayName, context.telemetry);\n  setStart();\n\n  const {\n    accessibility,\n    children,\n    className,\n    contentRef,\n    design,\n    title,\n    renderItemTitle,\n    expanded,\n    level,\n    index,\n    styles,\n    variables,\n    treeSize,\n    selectionIndicator,\n    selectable,\n    id,\n    parent,\n  } = props;\n\n  const {\n    getItemById,\n    registerItemRef,\n    toggleItemActive,\n    focusItemById,\n    expandSiblings,\n    toggleItemSelect,\n    getToFocusIDByFirstCharacter,\n  } = React.useContext(TreeContext);\n\n  const { selected, hasSubtree, childrenIds } = getItemById(id);\n\n  const getA11Props = useAccessibility(accessibility, {\n    actionHandlers: {\n      performClick: e => {\n        if (shouldPreventDefaultOnKeyDown(e)) {\n          e.preventDefault();\n        }\n        e.stopPropagation();\n        toggleItemActive(e, id);\n        _.invoke(props, 'onTitleClick', e, props);\n      },\n      focusParent: e => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        handleFocusParent(e);\n      },\n      collapse: e => {\n        e.preventDefault();\n        e.stopPropagation();\n        toggleItemActive(e, id);\n      },\n      expand: e => {\n        e.preventDefault();\n        e.stopPropagation();\n        toggleItemActive(e, id);\n      },\n      focusFirstChild: e => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        handleFocusFirstChild(e);\n      },\n      expandSiblings: e => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        handleSiblingsExpand(e);\n      },\n      performSelection: e => {\n        e.preventDefault();\n        e.stopPropagation();\n        handleSelection(e);\n      },\n    },\n    debugName: TreeItem.displayName,\n    mapPropsToBehavior: () => ({\n      expanded,\n      level,\n      index,\n      hasSubtree,\n      treeSize,\n      selected: selected === true,\n      selectable,\n      indeterminate: selected === 'indeterminate',\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<TreeItemStylesProps>(TreeItem.displayName, {\n    className: treeItemClassName,\n    mapPropsToStyles: () => ({\n      level,\n      selectable,\n    }),\n    mapPropsToInlineStyles: () => ({ className, design, styles, variables }),\n    rtl: context.rtl,\n    unstyled: props.unstyled,\n  });\n\n  const handleSelection = e => {\n    if (selectable) {\n      toggleItemSelect(e, id);\n    }\n    _.invoke(props, 'onTitleClick', e, props);\n  };\n\n  const handleFocusFirstChild = e => {\n    _.invoke(props, 'onFocusFirstChild', e, props);\n    focusItemById(childrenIds?.[0]);\n  };\n\n  const handleFocusParent = e => {\n    _.invoke(props, 'onFocusParent', e, props);\n    focusItemById(parent);\n  };\n\n  const handleSiblingsExpand = e => {\n    _.invoke(props, 'onSiblingsExpand', e, props);\n    expandSiblings(e, props.id);\n  };\n\n  const handleTitleOverrides = (predefinedProps: TreeTitleProps) => ({\n    id,\n    onClick: (e, titleProps) => {\n      _.invoke(props, 'onTitleClick', e, props);\n      _.invoke(predefinedProps, 'onClick', e, titleProps);\n    },\n  });\n\n  const handleClick = (e: React.SyntheticEvent) => {\n    if (e.target === e.currentTarget) {\n      // onClick listener for mouse click on treeItem DOM only,\n      // which could be triggered by VO+space on selectable tree parent node\n      handleSelection(e);\n    }\n\n    _.invoke(props, 'onClick', e, props);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key && e.key.length === 1 && e.key.match(/\\S/) && e.key !== '*' && !e.altKey && !e.ctrlKey && !e.metaKey) {\n      e.preventDefault();\n      e.stopPropagation();\n      const toFocusID = getToFocusIDByFirstCharacter(e, props.id);\n      if (toFocusID !== props.id) {\n        focusItemById(toFocusID);\n      }\n    }\n    _.invoke(props, 'onKeyDown', e, props);\n  };\n\n  const elementRef = React.useCallback(\n    node => {\n      registerItemRef(id, node);\n      handleRef(contentRef, node);\n      handleRef(ref, node);\n    },\n    [id, contentRef, registerItemRef, ref],\n  );\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TreeItem.handledProps, props);\n  const element = (\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        id,\n        ref: elementRef,\n        selected: selected === true,\n        onClick: handleClick,\n        onKeyDown: handleKeyDown,\n        ...rtlTextContainer.getAttributes({ forElements: [children] }),\n        ...unhandledProps,\n      })}\n    >\n      {childrenExist(children)\n        ? children\n        : TreeTitle.create(title, {\n            defaultProps: () =>\n              getA11Props('title', {\n                hasSubtree,\n                as: hasSubtree ? 'span' : 'a',\n                level,\n                treeSize,\n                expanded,\n                index,\n                selected: selected === true,\n                selectable,\n                parent,\n                ...(hasSubtree && {\n                  indeterminate: selected === 'indeterminate',\n                }),\n                selectionIndicator,\n              }),\n            render: renderItemTitle,\n            overrideProps: handleTitleOverrides,\n          })}\n    </ElementType>\n  );\n\n  setEnd();\n\n  return element;\n}) as unknown as ForwardRefWithAs<'div', HTMLDivElement, TreeItemProps> & FluentComponentStaticProps<TreeItemProps>;\n\nTreeItem.displayName = 'TreeItem';\n\nTreeItem.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  contentRef: customPropTypes.ref,\n  id: PropTypes.string.isRequired,\n  index: PropTypes.number,\n  items: customPropTypes.collectionShorthand,\n  level: PropTypes.number,\n  onFocusFirstChild: PropTypes.func,\n  onFocusParent: PropTypes.func,\n  onTitleClick: PropTypes.func,\n  onSiblingsExpand: PropTypes.func,\n  expanded: PropTypes.bool,\n  parent: PropTypes.string,\n  renderItemTitle: PropTypes.func,\n  treeSize: PropTypes.number,\n  title: customPropTypes.itemShorthand,\n  selectionIndicator: customPropTypes.shorthandAllowingChildren,\n  selectable: PropTypes.bool,\n  unstyled: PropTypes.bool,\n  onKeyDown: PropTypes.func,\n};\n\nTreeItem.defaultProps = {\n  accessibility: treeItemBehavior,\n  selectable: true,\n};\n\nTreeItem.handledProps = Object.keys(TreeItem.propTypes) as any;\n\nTreeItem.create = createShorthandFactory({\n  Component: TreeItem,\n  mappedProp: 'title',\n});\n"],"mappings":"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"}