{"version":3,"file":"Menu.js","names":["menuBehavior","getElementType","mergeVariablesOverrides","useAccessibility","useFluentContext","useAutoControlled","useStyles","useTelemetry","useUnhandledProps","customPropTypes","PropTypes","React","childrenExist","createShorthand","createShorthandFactory","commonPropTypes","getKindProp","rtlTextContainer","MenuItem","MenuDivider","MenuItemIcon","MenuItemContent","MenuItemIndicator","MenuItemWrapper","MenuContextProvider","Ref","menuClassName","useActualProps","props","actualProps","useRef","useEffect","current","useSlotProps","slotName","slotsProps","slotProps","useMemo","_values","Menu","forwardRef","ref","context","_useTelemetry","displayName","telemetry","setStart","setEnd","iconOnly","items","pills","pointing","primary","underlined","vertical","submenu","children","variables","styles","fluid","className","design","secondary","accessibility","ElementType","divider","inSubmenu","item","indicator","itemProps","dividerProps","unhandledProps","handledProps","getA11yProps","debugName","mapPropsToBehavior","rtl","_useStyles","mapPropsToStyles","mapPropsToInlineStyles","unstable_props","classes","_useAutoControlled","defaultValue","defaultActiveIndex","value","activeIndex","initialValue","undefined","setIndex","setActiveIndex","useCallback","e","_invoke","Object","assign","handleClick","index","handleSelect","handleItemOverrides","predefinedProps","onActiveChanged","active","handleDividerOverrides","renderItems","itemsCount","_filter","length","itemPosition","_map","kind","defaultProps","overrideProps","childBehaviors","childProps","onItemClick","onItemSelect","behaviors","element","unstable_wrapWithFocusZone","createElement","root","getAttributes","forElements","wrappedElement","innerRef","propTypes","createCommon","content","oneOfType","number","string","bool","collectionShorthandWithKindProp","func","onActiveIndexChange","oneOf","every","disallow","shorthandAllowingChildren","keys","as","Item","ItemIcon","ItemContent","ItemWrapper","ItemIndicator","Divider","create","Component","mappedArrayProp","shorthandConfig"],"sources":["components/Menu/Menu.tsx"],"sourcesContent":["import { Accessibility, menuBehavior, MenuBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  mergeVariablesOverrides,\n  useAccessibility,\n  useFluentContext,\n  useAutoControlled,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n  ShorthandConfig,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\n\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { ShorthandCollection, ShorthandValue, ComponentEventHandler, FluentComponentStaticProps } from '../../types';\nimport {\n  childrenExist,\n  createShorthand,\n  createShorthandFactory,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  getKindProp,\n  rtlTextContainer,\n  ShorthandFactory,\n} from '../../utils';\nimport { MenuItem, MenuItemProps } from './MenuItem';\nimport { MenuDivider, MenuDividerProps } from './MenuDivider';\nimport { MenuItemIcon } from './MenuItemIcon';\nimport { MenuItemContent } from './MenuItemContent';\nimport { MenuItemIndicator, MenuItemIndicatorProps } from './MenuItemIndicator';\nimport { MenuItemWrapper } from './MenuItemWrapper';\nimport { MenuContextProvider, MenuContextValue } from './menuContext';\nimport { Ref } from '@fluentui/react-component-ref';\n\nexport type MenuShorthandKinds = {\n  divider: MenuDividerProps;\n  item: MenuItemProps;\n};\n\nexport interface MenuProps extends UIComponentProps, ChildrenComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * @available menuAsToolbarBehavior, tabListBehavior, tabBehavior\n   */\n  accessibility?: Accessibility<MenuBehaviorProps>;\n\n  /** Index of the currently active item. */\n  activeIndex?: number | string;\n\n  /** Initial activeIndex value. */\n  defaultActiveIndex?: number | string;\n\n  /** A vertical menu may take the size of its container. */\n  fluid?: boolean;\n\n  /** A menu may have just icons. */\n  iconOnly?: boolean;\n\n  /** Shorthand array of props for Menu. */\n  items?: ShorthandCollection<MenuItemProps, MenuShorthandKinds>;\n\n  /**\n   * Called when a panel title is clicked.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All item props.\n   */\n  onItemClick?: ComponentEventHandler<MenuItemProps>;\n\n  /**\n   * Called when the active index of the Menu changes.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props, with `activeIndex` reflecting the new state.\n   */\n  onActiveIndexChange?: ComponentEventHandler<MenuProps>;\n\n  /** A menu can adjust its appearance to de-emphasize its contents. */\n  pills?: boolean;\n\n  /**\n   * A menu can point to show its relationship to nearby content.\n   * For vertical menu, it can point to the start of the item or to the end.\n   */\n  pointing?: boolean | 'start' | 'end';\n\n  /** The menu can have primary type. */\n  primary?: boolean;\n\n  /** The menu can have secondary type. */\n  secondary?: boolean;\n\n  /** Menu items can by highlighted using underline. */\n  underlined?: boolean;\n\n  /** A vertical menu displays elements vertically. */\n  vertical?: boolean;\n\n  /** Indicates whether the menu is submenu. */\n  submenu?: boolean;\n\n  /** Shorthand for the submenu indicator. */\n  indicator?: ShorthandValue<MenuItemIndicatorProps>;\n}\n\nexport const menuClassName = 'ui-menu';\n\nexport type MenuStylesProps = Pick<\n  MenuProps,\n  'iconOnly' | 'fluid' | 'pointing' | 'pills' | 'primary' | 'underlined' | 'vertical' | 'submenu' | 'secondary'\n>;\n\nfunction useActualProps<P>(props: P) {\n  const actualProps = React.useRef<P>(props);\n\n  React.useEffect(() => {\n    actualProps.current = props;\n  });\n\n  return actualProps;\n}\n\nfunction useSlotProps<SlotProps, SlotName extends keyof SlotProps>(\n  slotName: SlotName,\n  slotsProps: SlotProps,\n): SlotProps[SlotName] {\n  const slotProps = slotsProps[slotName];\n\n  return React.useMemo(\n    () => slotProps,\n    // `slotProps` has a stable order of keys so an amount of dependencies will not change between renders\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    _.values(slotProps),\n  );\n}\n\n/**\n * A Menu is a component that offers a grouped list of choices to the user.\n *\n * @accessibility\n * Implements ARIA [Menu](https://www.w3.org/TR/wai-aria-practices-1.1/#menu), [Toolbar](https://www.w3.org/TR/wai-aria-practices-1.1/#toolbar) or [Tabs](https://www.w3.org/TR/wai-aria-practices-1.1/#tabpanel) design pattern, depending on the behavior used.\n * @accessibilityIssues\n * [JAWS - navigation instruction for menubar](https://github.com/FreedomScientific/VFO-standards-support/issues/203)\n * [JAWS - navigation instruction for menu with aria-orientation=\"horizontal\"](https://github.com/FreedomScientific/VFO-standards-support/issues/204)\n * [JAWS [VC] doesn't narrate menu item, when it is open from menu button](https://github.com/FreedomScientific/VFO-standards-support/issues/324)\n * [JAWS [app mode] focus moves to second menu item, when it is open from menu button](https://github.com/FreedomScientific/VFO-standards-support/issues/325)\n * [Enter into a tablist JAWS narrates: To switch pages, press Control+PageDown](https://github.com/FreedomScientific/VFO-standards-support/issues/337)\n * 51114083 VoiceOver+Web narrate wrong position in menu / total count of menu items, when pseudo element ::after or ::before is used\n */\nexport const Menu = React.forwardRef<HTMLUListElement, MenuProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Menu.displayName, context.telemetry);\n  setStart();\n  const {\n    iconOnly,\n    items,\n    pills,\n    pointing,\n    primary,\n    underlined,\n    vertical,\n    submenu,\n    children,\n    variables,\n    styles,\n    fluid,\n    className,\n    design,\n    secondary,\n    accessibility,\n  } = props;\n\n  const ElementType = getElementType(props);\n\n  const slotProps = {\n    divider: {\n      inSubmenu: props.submenu,\n      pills: props.pills,\n      pointing: props.pointing,\n      primary: props.primary,\n      secondary: props.secondary,\n      vertical: props.vertical,\n    },\n    item: {\n      iconOnly: props.iconOnly,\n      indicator: props.indicator,\n      inSubmenu: props.submenu,\n      pills: props.pills,\n      pointing: props.pointing,\n      primary: props.primary,\n      secondary: props.secondary,\n      vertical: props.vertical,\n      underlined: props.underlined,\n    },\n  };\n\n  const itemProps = useSlotProps('item', slotProps);\n  const dividerProps = useSlotProps('divider', slotProps);\n\n  const unhandledProps = useUnhandledProps(Menu.handledProps, props);\n\n  const getA11yProps = useAccessibility<MenuBehaviorProps>(props.accessibility, {\n    debugName: Menu.displayName,\n    mapPropsToBehavior: () => ({\n      vertical,\n    }),\n    rtl: context.rtl,\n  });\n\n  const actualProps = useActualProps(props);\n\n  const { classes } = useStyles<MenuStylesProps>(Menu.displayName, {\n    className: menuClassName,\n    mapPropsToStyles: () => ({\n      iconOnly,\n      fluid,\n      pointing,\n      pills,\n      primary,\n      underlined,\n      vertical,\n      secondary,\n      submenu,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n    unstable_props: props,\n  });\n\n  const [activeIndex, setIndex] = useAutoControlled({\n    defaultValue: props.defaultActiveIndex,\n    value: props.activeIndex,\n    initialValue: undefined,\n  });\n\n  const setActiveIndex = React.useCallback(\n    (e: React.SyntheticEvent, activeIndex: number) => {\n      _.invoke(actualProps.current, 'onActiveIndexChange', e, { ...actualProps.current, activeIndex });\n      setIndex(activeIndex);\n    },\n    [actualProps, setIndex],\n  );\n\n  const handleClick = React.useCallback(\n    (e, itemProps) => {\n      const { index } = itemProps;\n      setActiveIndex(e, index);\n      _.invoke(actualProps.current, 'onItemClick', e, itemProps);\n    },\n    [actualProps, setActiveIndex],\n  );\n\n  const handleSelect = React.useCallback(\n    (e, index) => {\n      setActiveIndex(e, index);\n    },\n    [setActiveIndex],\n  );\n\n  const handleItemOverrides = (predefinedProps: MenuItemProps): MenuItemProps => ({\n    onActiveChanged: (e, props) => {\n      const { index, active } = props;\n      if (active) {\n        setActiveIndex(e, index);\n      } else if (activeIndex === index) {\n        setActiveIndex(e, null);\n      }\n      _.invoke(predefinedProps, 'onActiveChanged', e, props);\n    },\n    variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n  });\n\n  const handleDividerOverrides = predefinedProps => ({\n    variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n  });\n\n  const renderItems = () => {\n    const itemsCount = _.filter(items, item => getKindProp(item, 'item') !== 'divider').length;\n    let itemPosition = 0;\n\n    return _.map(items, (item, index) => {\n      const kind = getKindProp(item, 'item');\n\n      if (kind === 'divider') {\n        return createShorthand(MenuDivider, item, {\n          defaultProps: () => getA11yProps('divider', {}),\n          overrideProps: handleDividerOverrides,\n        });\n      }\n\n      itemPosition++;\n\n      return createShorthand(MenuItem, item, {\n        defaultProps: () =>\n          getA11yProps('item', {\n            index,\n            itemPosition,\n            itemsCount,\n          }),\n        overrideProps: handleItemOverrides,\n      });\n    });\n  };\n\n  const childBehaviors = accessibility && accessibility(props).childBehaviors;\n\n  const childProps: MenuContextValue = {\n    activeIndex: +activeIndex,\n    onItemClick: handleClick,\n    onItemSelect: handleSelect,\n    vertical,\n    variables,\n\n    slotProps: {\n      item: itemProps,\n      divider: dividerProps,\n    },\n\n    behaviors: {\n      item: childBehaviors?.item,\n      divider: childBehaviors?.divider,\n    },\n  };\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        ...rtlTextContainer.getAttributes({ forElements: [children] }),\n        ...unhandledProps,\n      })}\n    >\n      <MenuContextProvider value={childProps}>{childrenExist(children) ? children : renderItems()}</MenuContextProvider>\n    </ElementType>,\n  );\n\n  const wrappedElement = ref ? <Ref innerRef={ref}>{element}</Ref> : element;\n\n  setEnd();\n\n  return wrappedElement;\n}) as unknown as ForwardRefWithAs<'ul', HTMLUListElement, MenuProps> &\n  FluentComponentStaticProps<MenuProps> & {\n    create: ShorthandFactory<MenuProps>;\n    shorthandConfig: ShorthandConfig<MenuProps>;\n    Item: typeof MenuItem;\n    ItemContent: typeof MenuItemContent;\n    ItemIcon: typeof MenuItemIcon;\n    ItemIndicator: typeof MenuItemIndicator;\n    ItemWrapper: typeof MenuItemWrapper;\n    Divider: typeof MenuDivider;\n  };\n\nMenu.displayName = 'Menu';\n\nMenu.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  activeIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  defaultActiveIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  fluid: PropTypes.bool,\n  iconOnly: PropTypes.bool,\n  items: customPropTypes.collectionShorthandWithKindProp(['divider', 'item']),\n  onItemClick: PropTypes.func,\n  onActiveIndexChange: PropTypes.func,\n  pills: PropTypes.bool,\n  pointing: PropTypes.oneOfType([PropTypes.bool, PropTypes.oneOf<'start' | 'end'>(['start', 'end'])]),\n  primary: customPropTypes.every([customPropTypes.disallow(['secondary']), PropTypes.bool]),\n  secondary: customPropTypes.every([customPropTypes.disallow(['primary']), PropTypes.bool]),\n  underlined: PropTypes.bool,\n  vertical: PropTypes.bool,\n  submenu: PropTypes.bool,\n  indicator: customPropTypes.shorthandAllowingChildren,\n};\n\nMenu.handledProps = Object.keys(Menu.propTypes) as any;\n\nMenu.defaultProps = {\n  as: 'ul',\n  accessibility: menuBehavior,\n};\n\nMenu.Item = MenuItem;\nMenu.ItemIcon = MenuItemIcon;\nMenu.ItemContent = MenuItemContent;\nMenu.ItemWrapper = MenuItemWrapper;\nMenu.ItemIndicator = MenuItemIndicator;\nMenu.Divider = MenuDivider;\n\nMenu.create = createShorthandFactory({ Component: Menu, mappedArrayProp: 'items' });\nMenu.shorthandConfig = { mappedArrayProp: 'items' };\n"],"mappings":"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"}