{"version":3,"file":"List.js","names":["listBehavior","getElementType","useUnhandledProps","useAccessibility","useAutoControlled","useFluentContext","useStyles","useTelemetry","customPropTypes","PropTypes","React","childrenExist","commonPropTypes","rtlTextContainer","createShorthandFactory","ListContextProvider","ListItem","ListItemContent","ListItemContentMedia","ListItemEndMedia","ListItemHeader","ListItemHeaderMedia","ListItemMedia","listClassName","List","forwardRef","props","ref","context","_useTelemetry","displayName","telemetry","setStart","setEnd","accessibility","as","children","className","debug","design","horizontal","items","navigable","selectable","styles","truncateContent","truncateHeader","variables","wrap","_useAutoControlled","defaultValue","defaultSelectedIndex","value","selectedIndex","initialValue","setSelectedIndex","getA11Props","debugName","mapPropsToBehavior","rtl","_useStyles","mapPropsToStyles","isListTag","mapPropsToInlineStyles","classes","latestProps","useRef","current","ElementType","unhandledProps","handledProps","hasContent","length","onItemClick","useCallback","e","itemIndex","_invoke","Object","assign","childProps","renderItems","_map","item","index","create","defaultProps","element","unstable_wrapWithFocusZone","createElement","root","getAttributes","forElements","propTypes","createCommon","content","bool","collectionShorthand","every","disallow","number","onSelectedIndexChange","func","keys","Item","ItemContent","ItemContentMedia","ItemEndMedia","ItemHeader","ItemHeaderMedia","ItemMedia","Component","mappedArrayProp"],"sources":["components/List/List.tsx"],"sourcesContent":["import { Accessibility, listBehavior, ListBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  useUnhandledProps,\n  useAccessibility,\n  useAutoControlled,\n  useFluentContext,\n  useStyles,\n  useTelemetry,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { ComponentEventHandler, ShorthandCollection, ReactChildren, FluentComponentStaticProps } from '../../types';\nimport {\n  childrenExist,\n  UIComponentProps,\n  ChildrenComponentProps,\n  commonPropTypes,\n  rtlTextContainer,\n  createShorthandFactory,\n} from '../../utils';\nimport { ListContextProvider, ListContextValue } from './listContext';\nimport { ListItem, ListItemProps } from './ListItem';\nimport { ListItemContent } from './ListItemContent';\nimport { ListItemContentMedia } from './ListItemContentMedia';\nimport { ListItemEndMedia } from './ListItemEndMedia';\nimport { ListItemHeader } from './ListItemHeader';\nimport { ListItemHeaderMedia } from './ListItemHeaderMedia';\nimport { ListItemMedia } from './ListItemMedia';\n\nexport interface ListProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<ListBehaviorProps>;\n\n  /** Toggle debug mode */\n  debug?: boolean;\n\n  /** Shorthand array of props for ListItem. */\n  items?: ShorthandCollection<ListItemProps>;\n\n  /** A selectable list formats list items as possible choices. */\n  selectable?: boolean;\n\n  /** A navigable list allows user to navigate through items. */\n  navigable?: boolean;\n\n  /** Index of the currently selected item. */\n  selectedIndex?: number;\n\n  /** Initial selectedIndex value. */\n  defaultSelectedIndex?: number;\n\n  /**\n   * Event for request to change 'selectedIndex' value.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props and proposed value.\n   */\n  onSelectedIndexChange?: ComponentEventHandler<ListProps>;\n\n  /** Truncates content */\n  truncateContent?: boolean;\n\n  /** Truncates header */\n  truncateHeader?: boolean;\n\n  /** A horizontal list displays elements horizontally. */\n  horizontal?: boolean;\n\n  /** An optional wrapper function. */\n  wrap?: (children: ReactChildren) => React.ReactNode;\n}\n\nexport type ListStylesProps = Pick<ListProps, 'debug' | 'horizontal'> & { isListTag: boolean };\nexport const listClassName = 'ui-list';\n\n/**\n * A List displays a group of related sequential items.\n *\n * @accessibility\n * List may follow one of the following accessibility semantics:\n * - Static non-navigable list. Implements [ARIA list](https://www.w3.org/TR/wai-aria-1.1/#list) role.\n * - Selectable list: allows the user to select item from a list of choices. Implements [ARIA Listbox](https://www.w3.org/TR/wai-aria-practices-1.1/#Listbox) design pattern.\n * @accessibilityIssues\n * [NVDA - Browse Mode does not work with listbox #12350](https://github.com/nvaccess/nvda/issues/12350)\n * [JAWS - Listbox options are not reachable in Virtual Cursor PC mode #517](https://github.com/FreedomScientific/VFO-standards-support/issues/517)\n * [JAWS - Aria-selected is not narrated for the single-select listbox, when selection is NOT moved with focus #440](https://github.com/FreedomScientific/VFO-standards-support/issues/440)\n */\nexport const List = React.forwardRef<HTMLUListElement, ListProps & { as: React.ReactNode }>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(List.displayName, context.telemetry);\n  setStart();\n\n  const {\n    accessibility,\n    as,\n    children,\n    className,\n    debug,\n    design,\n    horizontal,\n    items,\n    navigable,\n    selectable,\n    styles,\n    truncateContent,\n    truncateHeader,\n    variables,\n    wrap,\n  } = props;\n\n  const [selectedIndex, setSelectedIndex] = useAutoControlled({\n    defaultValue: props.defaultSelectedIndex,\n    value: props.selectedIndex,\n    initialValue: -1,\n  });\n  const getA11Props = useAccessibility(accessibility, {\n    debugName: List.displayName,\n    mapPropsToBehavior: () => ({\n      horizontal,\n      navigable,\n      selectable,\n    }),\n    rtl: context.rtl,\n  });\n  const { classes } = useStyles<ListStylesProps>(List.displayName, {\n    className: listClassName,\n    mapPropsToStyles: () => ({ isListTag: as === 'ol' || as === 'ul', debug, horizontal }),\n    mapPropsToInlineStyles: () => ({ className, design, styles, variables }),\n    rtl: context.rtl,\n  });\n\n  const latestProps = React.useRef<ListProps>(props);\n  latestProps.current = props;\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(List.handledProps, props);\n\n  const hasContent = childrenExist(children) || (items && items.length > 0);\n  const onItemClick = React.useCallback(\n    (e, itemIndex) => {\n      if (latestProps.current.selectable) {\n        setSelectedIndex(itemIndex);\n        _.invoke(latestProps.current, 'onSelectedIndexChange', e, {\n          ...latestProps.current,\n          selectedIndex: itemIndex,\n        });\n      }\n    },\n    [latestProps, setSelectedIndex],\n  );\n\n  const childProps: ListContextValue = {\n    debug,\n    navigable,\n    onItemClick,\n    selectable,\n    selectedIndex,\n    truncateContent,\n    truncateHeader,\n    variables,\n  };\n  const renderItems = () => _.map(items, (item, index) => ListItem.create(item, { defaultProps: () => ({ index }) }));\n\n  const element = getA11Props.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11Props('root', {\n        className: classes.root,\n        ref,\n        ...rtlTextContainer.getAttributes({ forElements: [children] }),\n        ...unhandledProps,\n      })}\n    >\n      <ListContextProvider value={childProps}>\n        {hasContent && wrap(childrenExist(children) ? children : renderItems())}\n      </ListContextProvider>\n    </ElementType>,\n  );\n  setEnd();\n\n  return element;\n}) as unknown as ForwardRefWithAs<'ul', HTMLUListElement, ListProps> &\n  FluentComponentStaticProps<ListProps> & {\n    Item: typeof ListItem;\n    ItemContent: typeof ListItemContent;\n    ItemContentMedia: typeof ListItemContentMedia;\n    ItemEndMedia: typeof ListItemEndMedia;\n    ItemHeader: typeof ListItemHeader;\n    ItemHeaderMedia: typeof ListItemHeaderMedia;\n    ItemMedia: typeof ListItemMedia;\n  };\n\nList.displayName = 'List';\n\nList.defaultProps = {\n  as: 'ul',\n  accessibility: listBehavior,\n  wrap: children => children,\n};\nList.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  debug: PropTypes.bool,\n  items: customPropTypes.collectionShorthand,\n  selectable: customPropTypes.every([customPropTypes.disallow(['navigable']), PropTypes.bool]),\n  navigable: customPropTypes.every([customPropTypes.disallow(['selectable']), PropTypes.bool]),\n  truncateContent: PropTypes.bool,\n  truncateHeader: PropTypes.bool,\n  selectedIndex: PropTypes.number,\n  defaultSelectedIndex: PropTypes.number,\n  onSelectedIndexChange: PropTypes.func,\n  horizontal: PropTypes.bool,\n  wrap: PropTypes.func,\n};\n\nList.handledProps = Object.keys(List.propTypes) as any;\nList.Item = ListItem;\nList.ItemContent = ListItemContent;\nList.ItemContentMedia = ListItemContentMedia;\nList.ItemEndMedia = ListItemEndMedia;\nList.ItemHeader = ListItemHeader;\nList.ItemHeaderMedia = ListItemHeaderMedia;\nList.ItemMedia = ListItemMedia;\n\nList.create = createShorthandFactory({ Component: List, mappedArrayProp: 'items' });\n"],"mappings":"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"}