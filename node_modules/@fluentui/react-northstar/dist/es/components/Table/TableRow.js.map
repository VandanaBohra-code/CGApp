{"version":3,"file":"TableRow.js","names":["tableRowBehavior","getElementType","mergeVariablesOverrides","useAccessibility","useStyles","useTelemetry","useUnhandledProps","useFluentContext","Ref","customPropTypes","PropTypes","React","childrenExist","commonPropTypes","createShorthandFactory","TableCell","tableRowClassName","TableRow","forwardRef","props","ref","context","_useTelemetry","displayName","telemetry","setStart","setEnd","rowRef","useRef","className","design","styles","items","header","compact","children","accessibility","variables","selected","hasChildren","ElementType","unhandledProps","handledProps","getA11yProps","debugName","actionHandlers","unsetRowTabbable","e","current","setAttribute","performClick","currentTarget","target","_invoke","preventDefault","mapPropsToBehavior","rtl","_useStyles","mapPropsToStyles","mapPropsToInlineStyles","classes","renderCells","_map","item","create","defaultProps","overrideProps","predefinedProps","element","createElement","innerRef","unstable_wrapWithFocusZone","Object","assign","root","propTypes","createCommon","content","collectionShorthand","bool","keys","Component","mappedArrayProp"],"sources":["components/Table/TableRow.tsx"],"sourcesContent":["import { Accessibility, tableRowBehavior, GridRowBehaviorProps } from '@fluentui/accessibility';\nimport {\n  getElementType,\n  mergeVariablesOverrides,\n  useAccessibility,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n  useFluentContext,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\n\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { FluentComponentStaticProps, ShorthandCollection } from '../../types';\nimport { childrenExist, commonPropTypes, createShorthandFactory, UIComponentProps } from '../../utils';\nimport { TableCell, TableCellProps } from './TableCell';\n\nexport interface TableRowProps extends UIComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * */\n  accessibility?: Accessibility<GridRowBehaviorProps>;\n\n  /**\n   * Row cells\n   */\n  items?: ShorthandCollection<TableCellProps>;\n\n  /**\n   * Is the row a table header\n   */\n  header?: boolean;\n\n  /**\n   * Render table in compact mode\n   */\n  compact?: boolean;\n\n  /**\n   * Whether a row is currently selected or not.\n   */\n  selected?: boolean;\n}\n\nexport const tableRowClassName = 'ui-table__row';\n\nexport type TableRowStylesProps = Pick<TableRowProps, 'header' | 'compact'>;\n\n/**\n * Component represents a single row in a tabular structure\n */\nexport const TableRow = React.forwardRef<HTMLDivElement, TableRowProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(TableRow.displayName, context.telemetry);\n  setStart();\n  const rowRef = React.useRef<HTMLElement>();\n  const { className, design, styles, items, header, compact, children, accessibility, variables, selected } = props;\n\n  const hasChildren = childrenExist(children);\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TableRow.handledProps, props);\n  const getA11yProps = useAccessibility(accessibility, {\n    debugName: TableRow.displayName,\n    actionHandlers: {\n      // https://github.com/microsoft/fluent-ui-react/issues/2150\n      unsetRowTabbable: e => {\n        rowRef.current.setAttribute('tabindex', '-1');\n      },\n      performClick: e => {\n        if (e.currentTarget === e.target) {\n          _.invoke(props, 'onClick', e, props);\n          e.preventDefault();\n        }\n      },\n    },\n    mapPropsToBehavior: () => ({\n      selected,\n      header,\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<TableRowStylesProps>(TableRow.displayName, {\n    className: tableRowClassName,\n    mapPropsToStyles: () => ({\n      header,\n      compact,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const renderCells = () => {\n    return _.map(items, (item: TableCellProps) => {\n      return TableCell.create(item, {\n        defaultProps: () => getA11yProps('cell', {}),\n        overrideProps: predefinedProps => ({\n          variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n        }),\n      });\n    });\n  };\n\n  const element = (\n    <Ref innerRef={rowRef}>\n      {getA11yProps.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11yProps('root', {\n            className: classes.root,\n            ref,\n            ...unhandledProps,\n          })}\n        >\n          {hasChildren && children}\n          {!hasChildren && renderCells()}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n  return element;\n}) as unknown as ForwardRefWithAs<'div', HTMLDivElement, TableRowProps> & FluentComponentStaticProps<TableRowProps>;\n\nTableRow.displayName = 'TableRow';\n\nTableRow.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  items: customPropTypes.collectionShorthand,\n  header: PropTypes.bool,\n  compact: PropTypes.bool,\n  selected: PropTypes.bool,\n};\n\nTableRow.handledProps = Object.keys(TableRow.propTypes) as any;\n\nTableRow.defaultProps = {\n  accessibility: tableRowBehavior,\n};\n\nTableRow.create = createShorthandFactory({ Component: TableRow, mappedArrayProp: 'items' });\n"],"mappings":"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"}