{"version":3,"file":"Attachment.js","names":["attachmentBehavior","compose","getElementType","mergeVariablesOverrides","useAccessibility","useStyles","useFluentContext","useTelemetry","useUnhandledProps","customPropTypes","PropTypes","React","createShorthandFactory","commonPropTypes","createShorthand","AttachmentAction","AttachmentBody","AttachmentDescription","AttachmentHeader","AttachmentIcon","attachmentClassName","attachmentProgressContainerClassName","attachmentProgressBarClassName","Attachment","props","ref","composeOptions","context","_useTelemetry","displayName","telemetry","setStart","setEnd","accessibility","action","actionable","body","className","description","design","disabled","header","icon","onClick","progress","styles","variables","getA11Props","debugName","actionHandlers","performClick","e","currentTarget","target","stopPropagation","handleClick","mapPropsToBehavior","rtl","_useStyles","mapPropsToStyles","mapPropsToInlineStyles","unstable_props","classes","slotProps","resolveSlotProps","ElementType","unhandledProps","handledProps","preventDefault","_invoke","element","unstable_wrapWithFocusZone","createElement","Object","assign","root","slots","defaultProps","overrideProps","predefinedProps","content","Fragment","_isNil","style","width","create","Component","mappedProp","propTypes","createCommon","itemShorthand","bool","shorthandAllowingChildren","func","oneOfType","string","number","Action","Body","Description","Header","Icon"],"sources":["components/Attachment/Attachment.tsx"],"sourcesContent":["import { Accessibility, attachmentBehavior, AttachmentBehaviorProps } from '@fluentui/accessibility';\nimport {\n  ComponentWithAs,\n  compose,\n  getElementType,\n  mergeVariablesOverrides,\n  useAccessibility,\n  useStyles,\n  useFluentContext,\n  useTelemetry,\n  useUnhandledProps,\n} from '@fluentui/react-bindings';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\n\nimport { ComponentEventHandler, ShorthandValue } from '../../types';\nimport {\n  createShorthandFactory,\n  commonPropTypes,\n  UIComponentProps,\n  ChildrenComponentProps,\n  createShorthand,\n  ShorthandFactory,\n} from '../../utils';\nimport { AttachmentAction, AttachmentActionProps } from './AttachmentAction';\nimport { AttachmentBody, AttachmentBodyProps } from './AttachmentBody';\nimport { AttachmentDescription, AttachmentDescriptionProps } from './AttachmentDescription';\nimport { AttachmentHeader, AttachmentHeaderProps } from './AttachmentHeader';\nimport { AttachmentIcon, AttachmentIconProps } from './AttachmentIcon';\n\nexport interface AttachmentProps extends UIComponentProps, ChildrenComponentProps {\n  /** Accessibility behavior if overridden by the user. */\n  accessibility?: Accessibility<AttachmentBehaviorProps>;\n\n  /** Button shorthand for the action slot. */\n  action?: ShorthandValue<AttachmentActionProps>;\n\n  /** An Attachment can be styled to indicate possible user interaction. */\n  actionable?: boolean;\n\n  /** Contains a header and a description for an Attachment. */\n  body?: ShorthandValue<AttachmentBodyProps>;\n\n  /** A string describing the attachment. */\n  description?: ShorthandValue<AttachmentDescriptionProps>;\n\n  /** An attachment can show that it cannot be interacted with. */\n  disabled?: boolean;\n\n  /** The name of the attachment. */\n  header?: ShorthandValue<AttachmentHeaderProps>;\n\n  /** Shorthand for the icon. */\n  icon?: ShorthandValue<AttachmentIconProps>;\n\n  /** Value indicating percent complete. */\n  progress?: string | number;\n\n  /**\n   * Called after user's click.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<AttachmentProps>;\n}\n\nexport type AttachmentStylesProps = Required<Pick<AttachmentProps, 'actionable' | 'disabled'>>;\nexport const attachmentClassName = 'ui-attachment';\nexport const attachmentProgressContainerClassName = `${attachmentClassName}__progress-container`;\nexport const attachmentProgressBarClassName = `${attachmentClassName}__progress`;\n\n/**\n * An Attachment represents a file or media attachment, which may contain some metadata or actions.\n */\nexport const Attachment = compose<'div', AttachmentProps, AttachmentStylesProps, {}, {}>(\n  (props, ref, composeOptions) => {\n    const context = useFluentContext();\n    const { setStart, setEnd } = useTelemetry(composeOptions.displayName, context.telemetry);\n    setStart();\n\n    const {\n      accessibility,\n      action,\n      actionable,\n      body,\n      className,\n      description,\n      design,\n      disabled,\n      header,\n      icon,\n      onClick,\n      progress,\n      styles,\n      variables,\n    } = props;\n\n    const getA11Props = useAccessibility(accessibility, {\n      debugName: composeOptions.displayName,\n      actionHandlers: {\n        performClick: e => {\n          if (e.currentTarget === e.target) {\n            e.stopPropagation();\n            handleClick(e);\n          }\n        },\n      },\n      mapPropsToBehavior: () => ({ actionable }),\n      rtl: context.rtl,\n    });\n\n    const { classes } = useStyles<AttachmentStylesProps>(composeOptions.displayName, {\n      className: attachmentClassName,\n      mapPropsToStyles: () => ({\n        actionable: actionable || !!onClick,\n        disabled,\n      }),\n      mapPropsToInlineStyles: () => ({\n        className,\n        design,\n        styles,\n        variables,\n      }),\n      rtl: context.rtl,\n      composeOptions,\n      unstable_props: props,\n    });\n\n    const slotProps = composeOptions.resolveSlotProps<AttachmentProps>(props);\n\n    const ElementType = getElementType(props);\n    const unhandledProps = useUnhandledProps(composeOptions.handledProps, props);\n\n    const handleClick = (e: React.KeyboardEvent | React.MouseEvent) => {\n      if (disabled) {\n        e.preventDefault();\n        return;\n      }\n\n      _.invoke(props, 'onClick', e, props);\n    };\n\n    const element = getA11Props.unstable_wrapWithFocusZone(\n      <ElementType {...getA11Props('root', { className: classes.root, onClick: handleClick, ref, ...unhandledProps })}>\n        {createShorthand(composeOptions.slots.icon, icon, {\n          defaultProps: () => slotProps.icon,\n          overrideProps: predefinedProps => ({\n            variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n          }),\n        })}\n\n        {(header || description) &&\n          createShorthand(composeOptions.slots.body, body, {\n            defaultProps: () => slotProps.body,\n            overrideProps: predefinedProps => ({\n              content: (\n                <>\n                  {createShorthand(composeOptions.slots.header, header, {\n                    defaultProps: () => slotProps.header,\n                    overrideProps: predefinedProps => ({\n                      variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n                    }),\n                  })}\n                  {createShorthand(composeOptions.slots.description, description, {\n                    defaultProps: () => slotProps.description,\n                    overrideProps: predefinedProps => ({\n                      variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n                    }),\n                  })}\n                </>\n              ),\n              variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n            }),\n          })}\n\n        {createShorthand(composeOptions.slots.action, action, {\n          defaultProps: () => slotProps.action,\n          overrideProps: predefinedProps => ({\n            variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n          }),\n        })}\n        {!_.isNil(progress) && (\n          <div className={attachmentProgressContainerClassName}>\n            <div className={attachmentProgressBarClassName} style={{ width: `${progress}%` }} />\n          </div>\n        )}\n      </ElementType>,\n    );\n    setEnd();\n\n    return element;\n  },\n  {\n    className: attachmentClassName,\n    displayName: 'Attachment',\n    slots: {\n      action: AttachmentAction,\n      body: AttachmentBody,\n      description: AttachmentDescription,\n      header: AttachmentHeader,\n      icon: AttachmentIcon,\n    },\n    handledProps: [\n      'accessibility',\n      'action',\n      'actionable',\n      'as',\n      'body',\n      'children',\n      'className',\n      'description',\n      'design',\n      'header',\n      'icon',\n      'onClick',\n      'progress',\n      'styles',\n      'variables',\n    ],\n  },\n) as ComponentWithAs<'div', AttachmentProps> & {\n  create: ShorthandFactory<AttachmentProps>;\n  Action: typeof AttachmentAction;\n  Body: typeof AttachmentBody;\n  Description: typeof AttachmentDescription;\n  Header: typeof AttachmentHeader;\n  Icon: typeof AttachmentIcon;\n};\n\nAttachment.create = createShorthandFactory({ Component: Attachment, mappedProp: 'header' });\n\nAttachment.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  action: customPropTypes.itemShorthand,\n  actionable: PropTypes.bool,\n  body: customPropTypes.itemShorthand,\n  description: customPropTypes.itemShorthand,\n  header: customPropTypes.itemShorthand,\n  icon: customPropTypes.shorthandAllowingChildren,\n  onClick: PropTypes.func,\n  progress: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\nAttachment.defaultProps = {\n  accessibility: attachmentBehavior,\n  body: {},\n};\n\nAttachment.Action = AttachmentAction;\nAttachment.Body = AttachmentBody;\nAttachment.Description = AttachmentDescription;\nAttachment.Header = AttachmentHeader;\nAttachment.Icon = AttachmentIcon;\n"],"mappings":"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"}