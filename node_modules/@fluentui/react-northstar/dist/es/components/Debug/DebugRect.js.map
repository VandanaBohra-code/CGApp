{"version":3,"file":"DebugRect.js","names":["React","cropMarkStyle","position","background","DebugRect","_React$Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","selectorRef","createRef","setDebugSelectorPosition","fiberNav","props","domNode","getBoundingClientRect","current","rect","style","top","left","width","height","requestAnimationFrame","_proto","prototype","componentDidMount","componentDidUpdate","prevProps","prevState","snapshot","render","_this$props","showBackground","showClassName","showCropMarks","showElement","renderLabel","label","createElement","ref","padding","margin","outline","outlineOffset","zIndex","pointerEvents","userSelect","bottom","color","fontWeight","Fragment","Object","assign","right","fontSize","tagName","toLowerCase","hasAttribute","getAttribute","replace","Component","defaultProps","name"],"sources":["components/Debug/DebugRect.tsx"],"sourcesContent":["import * as React from 'react';\nimport { FiberNavigator } from './FiberNavigator';\n\ninterface DebugRectProps {\n  showBackground?: boolean;\n  showClassName?: boolean;\n  showCropMarks?: boolean;\n  showElement?: boolean;\n  fiberNav: FiberNavigator;\n  renderLabel?: (fiberNav: FiberNavigator) => string;\n}\n\nconst cropMarkStyle: React.CSSProperties = {\n  position: 'absolute',\n  background: '#6495ed88',\n};\n\nexport class DebugRect extends React.Component<DebugRectProps> {\n  selectorRef = React.createRef<HTMLPreElement>();\n\n  static defaultProps = {\n    showBackground: true,\n    showClassName: true,\n    showElement: true,\n    renderLabel: fiberNav => `<${fiberNav.name} />`,\n  };\n\n  componentDidMount() {\n    this.setDebugSelectorPosition();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    this.setDebugSelectorPosition();\n  }\n\n  setDebugSelectorPosition = () => {\n    const { fiberNav } = this.props;\n\n    if (\n      fiberNav &&\n      fiberNav.domNode &&\n      fiberNav.domNode.getBoundingClientRect &&\n      typeof fiberNav.domNode.getBoundingClientRect === 'function' &&\n      this.selectorRef.current\n    ) {\n      const rect = fiberNav.domNode.getBoundingClientRect();\n\n      this.selectorRef.current.style.top = `${rect.top}px`;\n      this.selectorRef.current.style.left = `${rect.left}px`;\n      this.selectorRef.current.style.width = `${rect.width}px`;\n      this.selectorRef.current.style.height = `${rect.height}px`;\n\n      requestAnimationFrame(this.setDebugSelectorPosition);\n    }\n  };\n\n  render() {\n    const { fiberNav, showBackground, showClassName, showCropMarks, showElement, renderLabel } = this.props;\n\n    if (!fiberNav) {\n      return null;\n    }\n\n    const label = renderLabel(fiberNav);\n\n    return (\n      <pre\n        ref={this.selectorRef}\n        style={{\n          position: 'fixed',\n          padding: 0,\n          margin: 0,\n          background: showBackground ? '#6495ed11' : 'none',\n          outline: '2px solid #6495edcc',\n          outlineOffset: '-1px',\n          zIndex: 99999999,\n          pointerEvents: 'none',\n          userSelect: 'none',\n        }}\n      >\n        {label && (\n          <div\n            style={{\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '-1px 0 0 -1px',\n              bottom: '100%',\n              left: 0,\n              color: '#fff',\n              background: '#6495ed',\n              zIndex: 1, // above crop marks\n            }}\n          >\n            <span style={{ fontWeight: 'bold' }}>{renderLabel(fiberNav)}</span>\n          </div>\n        )}\n        {showCropMarks && (\n          <>\n            {/* Top Left */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                top: '0',\n                left: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                top: '-20px',\n                left: '0',\n              }}\n            />\n\n            {/* Top Right */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                top: '0',\n                right: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                top: '-20px',\n                right: '0',\n              }}\n            />\n\n            {/* Bottom Left */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                bottom: '0',\n                left: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                bottom: '-20px',\n                left: '0',\n              }}\n            />\n\n            {/* Bottom Right */}\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '12px',\n                height: '1px',\n                bottom: '0',\n                right: '-20px',\n              }}\n            />\n            <div\n              style={{\n                ...cropMarkStyle,\n                width: '1px',\n                height: '12px',\n                bottom: '-20px',\n                right: '0',\n              }}\n            />\n          </>\n        )}\n        {fiberNav.domNode && (showElement || showClassName) && (\n          <div\n            style={{\n              fontSize: '0.9em',\n              position: 'absolute',\n              padding: '2px 4px',\n              margin: '0 0 1px -1px',\n              top: '100%',\n              left: 0,\n              background: '#6495ed',\n            }}\n          >\n            {showElement && (\n              <strong style={{ fontWeight: 'bold', color: 'hsl(160, 100%, 80%)' }}>\n                {fiberNav.domNode.tagName && fiberNav.domNode.tagName.toLowerCase()}\n              </strong>\n            )}\n            {showClassName &&\n              fiberNav.domNode.hasAttribute &&\n              typeof fiberNav.domNode.hasAttribute === 'function' &&\n              fiberNav.domNode.hasAttribute('class') && (\n                <span style={{ color: 'rgba(255, 255, 255, 0.75)' }}>\n                  .{(fiberNav.domNode.getAttribute('class') || '').replace(/ +/g, '.')}\n                </span>\n              )}\n          </div>\n        )}\n      </pre>\n    );\n  }\n}\n"],"mappings":"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"}