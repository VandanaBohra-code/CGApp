{"version":3,"file":"Pill.js","names":["PropTypes","React","customPropTypes","pillBehavior","commonPropTypes","createShorthand","useAccessibility","getElementType","useStyles","useTelemetry","useFluentContext","useUnhandledProps","useAutoControlled","PillContent","PillAction","usePillContext","PillImage","PillIcon","CheckmarkCircleIcon","AcceptIcon","pillClassName","Pill","forwardRef","props","ref","context","_useTelemetry","displayName","telemetry","setStart","setEnd","parentProps","className","design","styles","variables","appearance","size","rectangular","children","content","disabled","action","actionable","image","icon","selectable","selectedIndicator","role","onDismiss","_useAutoControlled","defaultValue","defaultSelected","value","selected","initialValue","setSelected","ElementType","unhandledProps","handledProps","handleDismiss","e","_invoke","handleClick","prevSelected","Object","assign","getA11yProps","accessibility","debugName","actionHandlers","performDismiss","performClick","mapPropsToBehavior","dismissible","Boolean","rtl","_useStyles","mapPropsToStyles","mapPropsToInlineStyles","classes","getSelectedIndicator","createElement","element","unstable_wrapWithFocusZone","root","onClick","defaultProps","overrideProps","prevProps","as","propTypes","createCommon","shorthandAllowingChildren","oneOf","bool","func","keys"],"sources":["components/Pill/Pill.tsx"],"sourcesContent":["import * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\nimport { Accessibility, AriaRole, pillBehavior, PillBehaviorProps } from '@fluentui/accessibility';\nimport { UIComponentProps, ContentComponentProps, commonPropTypes, SizeValue, createShorthand } from '../../utils';\nimport { ShorthandValue, FluentComponentStaticProps, ComponentEventHandler } from '../../types';\nimport { BoxProps } from '../Box/Box';\n\nimport {\n  useAccessibility,\n  getElementType,\n  useStyles,\n  useTelemetry,\n  useFluentContext,\n  useUnhandledProps,\n  useAutoControlled,\n  ForwardRefWithAs,\n} from '@fluentui/react-bindings';\nimport { PillContent, PillContentProps } from './PillContent';\nimport { PillActionProps, PillAction } from './PillAction';\nimport { usePillContext } from './pillContext';\nimport { PillImageProps, PillImage } from './PillImage';\nimport { PillIcon, PillIconProps } from './PillIcon';\nimport { CheckmarkCircleIcon, AcceptIcon } from '@fluentui/react-icons-northstar';\n\nexport interface PillProps extends UIComponentProps, ContentComponentProps<ShorthandValue<BoxProps>> {\n  /**\n   * Accessibility behavior if overridden by the user.\n   */\n  accessibility?: Accessibility<PillBehaviorProps>;\n\n  /**\n   * A Pill can be sized.\n   */\n  size?: Extract<SizeValue, 'smaller' | 'small' | 'medium'>;\n\n  /**\n   * A Pill can be rectangular\n   */\n  rectangular?: boolean;\n\n  /**\n   * A Pill can be filled, inverted or outline\n   */\n  appearance?: 'filled' | 'inverted' | 'outline';\n\n  /**\n   * A Pill can be disbled\n   */\n  disabled?: boolean;\n\n  /**\n   * A Pill can be actionable\n   */\n  actionable?: boolean;\n\n  /**\n   * A PillAction shorthand for the action slot.\n   */\n  action?: ShorthandValue<PillActionProps>;\n\n  /**\n   * A PillAction shorthand for the action slot.\n   */\n  icon?: ShorthandValue<PillIconProps>;\n\n  /**\n   * A PillImage shorthand for the image slot.\n   */\n  image?: ShorthandValue<PillImageProps>;\n\n  /**\n   * Called after user will dismiss the Pill.\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onDismiss?: ComponentEventHandler<PillProps>;\n\n  /**\n   * A Pill can be selectable\n   */\n  selectable?: boolean;\n\n  /**\n   * A Pill state for selection\n   */\n  selected?: boolean;\n\n  /**\n   * A Pill can be selected by default\n   */\n  defaultSelected?: boolean;\n\n  /**\n   * A Pill can have custom selected indicator\n   */\n  selectedIndicator?: ShorthandValue<PillIconProps>;\n\n  /**\n   * Called after user change selected state\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onSelectionChange?: ComponentEventHandler<PillProps>;\n\n  /**\n   * Role to be set in the pill root element\n   */\n  role?: AriaRole;\n}\n\nexport type PillStylesProps = Required<\n  Pick<PillProps, 'appearance' | 'size' | 'rectangular' | 'disabled' | 'selectable' | 'selected' | 'actionable'>\n>;\n\nexport const pillClassName = 'ui-pill';\n\n/**\n * Pills should be used when representing an input, as a way to filter content, or to represent an attribute.\n */\nexport const Pill = React.forwardRef<HTMLSpanElement, PillProps>((props, ref) => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(Pill.displayName, context.telemetry);\n  setStart();\n\n  const parentProps = usePillContext();\n\n  const {\n    className,\n    design,\n    styles,\n    variables,\n    appearance,\n    size,\n    rectangular,\n    children,\n    content,\n    disabled,\n    action,\n    actionable,\n    image,\n    icon,\n    selectable,\n    selectedIndicator,\n    role,\n    onDismiss,\n  } = props;\n\n  const [selected, setSelected] = useAutoControlled({\n    defaultValue: props.defaultSelected,\n    value: props.selected,\n    initialValue: false,\n  });\n\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(Pill.handledProps, props);\n\n  const handleDismiss = e => {\n    _.invoke(props, 'onDismiss', e, props);\n  };\n\n  const handleClick = e => {\n    if (selectable) {\n      setSelected(prevSelected => !prevSelected);\n      _.invoke(props, 'onSelectionChange', e, { ...props, selected: !selected });\n    }\n    _.invoke(props, 'onClick', e, props);\n  };\n\n  const getA11yProps = useAccessibility(props.accessibility || parentProps.pillBehavior || pillBehavior, {\n    debugName: Pill.displayName,\n    actionHandlers: {\n      performDismiss: handleDismiss,\n      performClick: handleClick,\n    },\n    mapPropsToBehavior: () => ({\n      actionable,\n      selectable,\n      selected,\n      role,\n      dismissible: Boolean(onDismiss),\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<PillStylesProps>(Pill.displayName, {\n    className: pillClassName,\n    mapPropsToStyles: () => ({\n      appearance,\n      size,\n      rectangular,\n      disabled,\n      selectable,\n      selected,\n      actionable,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const getSelectedIndicator: () => ShorthandValue<PillIconProps> = () => {\n    if (!!selectedIndicator) {\n      return selectedIndicator;\n    }\n\n    if (!!image) {\n      return <CheckmarkCircleIcon />;\n    }\n\n    return <AcceptIcon />;\n  };\n\n  const element = getA11yProps.unstable_wrapWithFocusZone(\n    <ElementType\n      {...getA11yProps('root', {\n        className: classes.root,\n        ref,\n        ...((actionable || selectable) && { onClick: handleClick }),\n        ...unhandledProps,\n      })}\n    >\n      {selectable &&\n        selected &&\n        createShorthand(PillIcon, getSelectedIndicator(), {\n          defaultProps: () => ({ size, selectable, image }),\n        })}\n      {!selected &&\n        createShorthand(PillImage, image, {\n          defaultProps: () => ({ size }),\n        })}\n      {!selected &&\n        createShorthand(PillIcon, icon, {\n          defaultProps: () => ({ size }),\n        })}\n      {createShorthand(PillContent, (content as ShorthandValue<PillContentProps>) || {}, {\n        defaultProps: () => ({\n          children,\n          size,\n          actionable,\n        }),\n      })}\n      {Boolean(onDismiss) &&\n        createShorthand(PillAction, action || {}, {\n          overrideProps: (prevProps: PillActionProps & { onClick: (e: React.MouseEvent) => void }) => ({\n            onClick: e => {\n              _.invoke(prevProps, 'onClick', e);\n              handleDismiss(e);\n            },\n          }),\n        })}\n    </ElementType>,\n  );\n\n  setEnd();\n\n  return element;\n}) as unknown as ForwardRefWithAs<'span', HTMLSpanElement, PillProps> & FluentComponentStaticProps<PillProps>;\n\nPill.defaultProps = {\n  as: 'span' as const,\n  accessibility: pillBehavior,\n};\n\nPill.propTypes = {\n  ...commonPropTypes.createCommon(),\n  content: customPropTypes.shorthandAllowingChildren,\n  size: PropTypes.oneOf<'small' | 'smaller' | 'medium'>(['small', 'smaller', 'medium']),\n  rectangular: PropTypes.bool,\n  disabled: PropTypes.bool,\n  appearance: PropTypes.oneOf<'filled' | 'inverted' | 'outline'>(['filled', 'inverted', 'outline']),\n  actionable: PropTypes.bool,\n  action: customPropTypes.shorthandAllowingChildren,\n  onDismiss: PropTypes.func,\n  selectedIndicator: customPropTypes.shorthandAllowingChildren,\n  selectable: PropTypes.bool,\n  selected: PropTypes.bool,\n  defaultSelected: PropTypes.bool,\n  image: customPropTypes.shorthandAllowingChildren,\n};\n\nPill.displayName = 'Pill';\n\nPill.handledProps = Object.keys(Pill.propTypes) as any;\n"],"mappings":"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"}