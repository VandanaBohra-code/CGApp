{"version":3,"file":"chatMessageStyles.js","names":["defaultChatDensity","chatMessageSlotClassNames","pxToRem","getBorderFocusStyles","chatMessageStylesComfy","chatMessageStylesCompact","chatMessageStylesComfyRefresh","displayActionMenu","overlayZIndex","zIndex","overflow","opacity","width","chatMessageDensityStyles","comfy","compact","getChatMessageVariantStyles","props","density","layout","chatMessageStyles","root","componentStyleFunctionParam","_hover","_ref","_getChatMessageVarian","_getChatMessageVarian2","p","v","variables","siteVariables","theme","Object","assign","borderRadius","display","outline","position","wordBreak","wordWrap","_isNil","showActionMenu","hasActionMenu","actionMenu","call","_getChatMessageVarian3","_getChatMessageVarian4","defaultShowActionMenu","focused","backgroundColor","border","borderColor","reactionGroupBorderColor","boxShadow","actionMenuBoxShadow","author","_getChatMessageVarian5","_getChatMessageVarian6","compactBody","_getChatMessageVarian7","_getChatMessageVarian8","timestamp","_getChatMessageVarian9","_getChatMessageVarian10","badge","_getChatMessageVarian11","_getChatMessageVarian12","hasMention","hasMentionNubbinColor","isImportantColor","badgeShadow","color","badgeTextColor","height","padding","body","_getChatMessageVarian13","_getChatMessageVarian14","bubble","_getChatMessageVarian15","_getChatMessageVarian16","bubbleInset","_getChatMessageVarian17","_getChatMessageVarian18","reactionGroup","_getChatMessageVarian19","_getChatMessageVarian20"],"sources":["themes/teams/components/Chat/chatMessageStyles.ts"],"sourcesContent":["import { ComponentSlotStylesPrepared, ICSSInJSStyle } from '@fluentui/styles';\nimport { isNil } from 'lodash';\n\nimport { ChatDensity, defaultChatDensity } from '../../../../components/Chat/chatDensity';\nimport { chatMessageSlotClassNames, ChatMessageStylesProps } from '../../../../components/Chat/ChatMessage';\nimport { pxToRem } from '../../../../utils';\nimport { getBorderFocusStyles } from '../../getBorderFocusStyles';\nimport { chatMessageStylesComfy } from './chatMessageStylesComfy';\nimport { chatMessageStylesCompact } from './chatMessageStylesCompact';\nimport { chatMessageStylesComfyRefresh } from './chatMessageStylesComfyRefresh';\nimport { ChatMessageVariables } from './chatMessageVariables';\n\nconst displayActionMenu = (overlayZIndex: ICSSInJSStyle['zIndex']): ICSSInJSStyle => ({\n  // we need higher zIndex for the action menu in order to be displayed above the focus border of the chat message\n  zIndex: overlayZIndex,\n  overflow: 'visible',\n  // opacity should always be preferred over visibility in order to avoid accessibility bugs in\n  // JAWS behavior on Windows\n  opacity: 1,\n  width: 'auto',\n});\n\nconst chatMessageDensityStyles: Record<\n  ChatDensity,\n  ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables>\n> = {\n  comfy: chatMessageStylesComfy,\n  compact: chatMessageStylesCompact,\n};\n\nconst getChatMessageVariantStyles = (props: ChatMessageStylesProps) => {\n  const density = props.density || defaultChatDensity;\n  if (props.layout === 'refresh' && density === 'comfy') {\n    return chatMessageStylesComfyRefresh;\n  }\n  return chatMessageDensityStyles[density];\n};\n\nexport const chatMessageStyles: ComponentSlotStylesPrepared<ChatMessageStylesProps, ChatMessageVariables> = {\n  root: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const {\n      props: p,\n      variables: v,\n      theme: { siteVariables },\n    } = componentStyleFunctionParam;\n\n    if (p.layout === 'refresh' && p.density === 'comfy') {\n      return chatMessageStylesComfyRefresh.root(componentStyleFunctionParam);\n    }\n    return {\n      borderRadius: v.borderRadius,\n      display: 'inline-block',\n      outline: 0,\n      position: 'relative',\n      wordBreak: 'break-word',\n      wordWrap: 'break-word',\n\n      ...getBorderFocusStyles({ borderRadius: 'inherit', variables: siteVariables }),\n\n      // ActionMenu's appearance can be controlled by the value of showActionMenu variable - in this\n      // case this variable will serve the single source of truth on whether actions menu should be shown.\n      // Otherwise, if the variable is not provided, the default appearance logic will be used for actions menu.\n      ...(isNil(v.showActionMenu) &&\n        p.hasActionMenu && {\n          ':hover': {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          },\n          ...(p.showActionMenu && {\n            [`> .${chatMessageSlotClassNames.actionMenu}`]: displayActionMenu(v.overlayZIndex),\n          }),\n        }),\n\n      ...getChatMessageVariantStyles(p).root?.(componentStyleFunctionParam),\n    };\n  },\n\n  actionMenu: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    const defaultShowActionMenu = p.hasActionMenu && (p.focused || p.showActionMenu);\n    const showActionMenu = isNil(v.showActionMenu) ? defaultShowActionMenu : v.showActionMenu;\n\n    return {\n      backgroundColor: v.backgroundColor,\n      border: '1px solid',\n      borderColor: v.reactionGroupBorderColor,\n      borderRadius: v.borderRadius,\n      boxShadow: v.actionMenuBoxShadow,\n      '[data-popper-escaped]': { opacity: 0 },\n\n      zIndex: -1,\n      overflow: 'hidden',\n      opacity: 0,\n      width: 0,\n      ...(showActionMenu && displayActionMenu(v.overlayZIndex)),\n      ...getChatMessageVariantStyles(p).actionMenu?.(componentStyleFunctionParam),\n    };\n  },\n\n  author: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).author?.(componentStyleFunctionParam);\n  },\n\n  compactBody: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).compactBody?.(componentStyleFunctionParam);\n  },\n\n  timestamp: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      display: 'inline-block',\n      ...getChatMessageVariantStyles(p).timestamp?.(componentStyleFunctionParam),\n    };\n  },\n\n  badge: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p, variables: v } = componentStyleFunctionParam;\n    return {\n      backgroundColor: v.hasMention ? v.hasMentionNubbinColor : v.isImportantColor,\n      borderRadius: '50%',\n      boxShadow: v.badgeShadow,\n      color: v.badgeTextColor,\n      height: 'auto',\n      padding: pxToRem(4),\n      width: 'auto',\n      zIndex: v.zIndex,\n      '& > :first-child': { display: 'inline-flex' },\n      ...getChatMessageVariantStyles(p).badge?.(componentStyleFunctionParam),\n    };\n  },\n\n  body: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).body?.(componentStyleFunctionParam),\n    };\n  },\n\n  bubble: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).bubble?.(componentStyleFunctionParam),\n    };\n  },\n\n  bubbleInset: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return {\n      ...getChatMessageVariantStyles(p).bubbleInset?.(componentStyleFunctionParam),\n    };\n  },\n\n  reactionGroup: (componentStyleFunctionParam): ICSSInJSStyle => {\n    const { props: p } = componentStyleFunctionParam;\n    return getChatMessageVariantStyles(p).reactionGroup?.(componentStyleFunctionParam);\n  },\n};\n"],"mappings":"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"}